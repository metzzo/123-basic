var staticFileSystem, fileSystem;
	var initFS = function() {
	staticFileSystem = new VirtualFileSystem();
	fileSystem = new VirtualFileSystem(localStorage.getItem("filesystem"));
	staticFileSystem.createDir("/media");
	fileSystem.createDir("/media");
	staticFileSystem.createDir("/media/highres");
	fileSystem.createDir("/media/highres");
	staticFileSystem.createFile("/media/map0.map", [50, 48, 13, 10, 49, 48, 13, 10, 116, 105, 108, 101, 115, 101, 116, 49, 46, 112, 110, 103, 13, 10, 109, 97, 112, 49, 46, 109, 97, 112, 13, 10, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 13, 10, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 13, 10, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 13, 10, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 13, 10, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 13, 10, 49, 44, 52, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 48, 44, 49, 13, 10, 49, 44, 49, 44, 49, 44, 49, 44, 51, 44, 51, 44, 49, 44, 49, 44, 51, 44, 51, 44, 51, 44, 49, 44, 49, 44, 51, 44, 51, 44, 51, 44, 49, 44, 49, 44, 49, 44, 49, 13, 10, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 13, 10, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 13, 10, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 13, 10]);
	staticFileSystem.createFile("/media/map1.map", [50, 53, 13, 10, 49, 48, 13, 10, 116, 105, 108, 101, 115, 101, 116, 49, 46, 112, 110, 103, 13, 10, 109, 97, 112, 50, 46, 109, 97, 112, 13, 10, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 13, 10, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 56, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 57, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 13, 10, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 13, 10, 49, 44, 52, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 13, 10, 49, 44, 49, 44, 54, 44, 48, 44, 48, 44, 48, 44, 54, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 56, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 13, 10, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 48, 44, 49, 13, 10, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 56, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 13, 10, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 13, 10, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 13, 10, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 13, 10]);
	staticFileSystem.createFile("/media/map2.map", [50, 48, 13, 10, 50, 48, 13, 10, 116, 105, 108, 101, 115, 101, 116, 49, 46, 112, 110, 103, 13, 10, 109, 97, 112, 51, 46, 109, 97, 112, 13, 10, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 13, 10, 48, 44, 52, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 48, 44, 50, 44, 48, 13, 10, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 50, 44, 49, 13, 10, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 50, 44, 49, 13, 10, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 50, 44, 49, 13, 10, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 50, 44, 49, 13, 10, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 50, 44, 49, 13, 10, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 50, 44, 49, 13, 10, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 50, 44, 49, 13, 10, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 50, 44, 49, 13, 10, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 50, 44, 49, 13, 10, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 50, 44, 49, 13, 10, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 50, 44, 49, 13, 10, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 50, 44, 49, 13, 10, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 50, 44, 49, 13, 10, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 50, 44, 49, 13, 10, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 50, 44, 49, 13, 10, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 50, 44, 49, 13, 10, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 53, 44, 51, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 13, 10, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 13, 10]);
	staticFileSystem.createFile("/media/map3.map", [50, 53, 13, 10, 50, 53, 13, 10, 116, 105, 108, 101, 115, 101, 116, 49, 46, 112, 110, 103, 13, 10, 109, 97, 112, 52, 46, 109, 97, 112, 13, 10, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 13, 10, 49, 44, 52, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 13, 10, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 50, 44, 48, 44, 48, 13, 10, 49, 44, 49, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 50, 44, 48, 44, 48, 13, 10, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 50, 44, 48, 44, 48, 13, 10, 49, 44, 50, 44, 48, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 50, 44, 48, 44, 48, 13, 10, 49, 44, 50, 44, 49, 50, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 50, 44, 48, 44, 48, 13, 10, 49, 44, 50, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 54, 44, 48, 44, 48, 44, 54, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 50, 44, 48, 44, 48, 13, 10, 49, 44, 50, 44, 49, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 50, 44, 48, 44, 48, 13, 10, 49, 44, 50, 44, 49, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 50, 44, 48, 44, 48, 13, 10, 49, 44, 50, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 50, 44, 48, 44, 48, 13, 10, 49, 44, 50, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 57, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 50, 44, 48, 44, 48, 13, 10, 49, 44, 50, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 50, 44, 48, 44, 48, 13, 10, 49, 44, 50, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 50, 44, 48, 44, 48, 13, 10, 49, 44, 50, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 54, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 50, 44, 48, 44, 48, 13, 10, 49, 44, 50, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 50, 44, 48, 44, 48, 13, 10, 49, 44, 50, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 50, 44, 48, 44, 48, 13, 10, 49, 44, 50, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 50, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 50, 44, 48, 44, 48, 13, 10, 49, 44, 50, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 50, 44, 48, 44, 48, 13, 10, 49, 44, 50, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 51, 44, 48, 44, 48, 44, 50, 44, 49, 50, 44, 51, 13, 10, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 13, 10, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 13, 10, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 13, 10, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 53, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 49, 44, 49, 13, 10, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 13, 10]);
	staticFileSystem.createFile("/media/map4.map", [50, 53, 13, 10, 50, 53, 13, 10, 116, 105, 108, 101, 115, 101, 116, 49, 46, 112, 110, 103, 13, 10, 109, 97, 112, 53, 46, 109, 97, 112, 13, 10, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 48, 44, 48, 44, 48, 13, 10, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 48, 44, 48, 44, 48, 13, 10, 48, 44, 48, 44, 48, 44, 50, 44, 50, 44, 50, 44, 50, 44, 50, 44, 50, 44, 50, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 48, 44, 48, 44, 48, 13, 10, 48, 44, 48, 44, 48, 44, 50, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 48, 44, 48, 44, 48, 13, 10, 48, 44, 48, 44, 48, 44, 50, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 49, 44, 49, 44, 48, 44, 48, 44, 48, 13, 10, 48, 44, 48, 44, 48, 44, 50, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 51, 44, 51, 44, 49, 50, 44, 51, 44, 51, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 13, 10, 48, 44, 48, 44, 49, 50, 44, 50, 44, 48, 44, 48, 44, 49, 49, 44, 48, 44, 48, 44, 48, 44, 55, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 13, 10, 48, 44, 49, 44, 49, 44, 50, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 13, 10, 48, 44, 49, 44, 49, 44, 50, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 13, 10, 48, 44, 49, 44, 49, 44, 50, 44, 48, 44, 48, 44, 49, 49, 44, 56, 44, 56, 44, 56, 44, 56, 44, 56, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 13, 10, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 13, 10, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 56, 44, 56, 44, 56, 44, 48, 44, 49, 44, 49, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 13, 10, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 50, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 48, 44, 48, 44, 49, 50, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 50, 13, 10, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 50, 13, 10, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 50, 13, 10, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 50, 13, 10, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 50, 13, 10, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 50, 13, 10, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 50, 13, 10, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 50, 13, 10, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 50, 13, 10, 49, 44, 48, 44, 48, 44, 52, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 50, 13, 10, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 13, 10, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 51, 44, 51, 44, 53, 44, 51, 44, 51, 44, 53, 44, 51, 44, 51, 44, 53, 44, 51, 44, 51, 44, 53, 44, 51, 44, 51, 44, 53, 44, 51, 44, 51, 44, 49, 44, 49, 13, 10, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 13, 10]);
	staticFileSystem.createFile("/media/map5.map", [52, 48, 13, 10, 51, 53, 13, 10, 116, 105, 108, 101, 115, 101, 116, 49, 46, 112, 110, 103, 13, 10, 109, 97, 112, 54, 46, 109, 97, 112, 13, 10, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 13, 10, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 13, 10, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 13, 10, 48, 44, 50, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 49, 44, 49, 44, 48, 44, 49, 48, 44, 49, 48, 44, 48, 44, 49, 44, 49, 49, 44, 48, 44, 48, 44, 51, 44, 48, 44, 51, 44, 48, 44, 48, 44, 51, 44, 48, 44, 48, 44, 51, 44, 48, 44, 51, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 50, 44, 48, 44, 48, 44, 48, 13, 10, 48, 44, 50, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 50, 44, 48, 44, 48, 44, 48, 13, 10, 48, 44, 50, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 50, 44, 48, 44, 48, 44, 48, 13, 10, 48, 44, 50, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 50, 44, 48, 44, 48, 44, 48, 13, 10, 48, 44, 50, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 50, 44, 48, 44, 48, 44, 48, 13, 10, 48, 44, 50, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 55, 44, 48, 44, 48, 44, 49, 44, 49, 44, 50, 44, 48, 44, 48, 44, 48, 13, 10, 48, 44, 50, 44, 49, 44, 49, 44, 49, 50, 44, 48, 44, 48, 44, 48, 44, 54, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 54, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 50, 44, 48, 44, 48, 44, 48, 13, 10, 48, 44, 50, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 50, 44, 48, 44, 48, 44, 48, 13, 10, 48, 44, 50, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 50, 44, 48, 44, 48, 44, 48, 13, 10, 48, 44, 50, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 50, 44, 48, 44, 48, 44, 48, 13, 10, 48, 44, 50, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 53, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 50, 44, 48, 44, 48, 44, 48, 13, 10, 48, 44, 50, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 50, 44, 48, 44, 48, 44, 48, 13, 10, 48, 44, 50, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 53, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 50, 44, 48, 44, 48, 44, 48, 13, 10, 48, 44, 50, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 48, 44, 50, 44, 48, 13, 10, 48, 44, 50, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 50, 44, 48, 13, 10, 48, 44, 50, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 50, 44, 48, 13, 10, 48, 44, 50, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 50, 44, 48, 13, 10, 48, 44, 50, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 53, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 50, 44, 48, 13, 10, 48, 44, 50, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 50, 44, 48, 13, 10, 48, 44, 50, 44, 49, 44, 49, 44, 50, 44, 48, 44, 57, 44, 48, 44, 48, 44, 48, 44, 54, 44, 48, 44, 48, 44, 57, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 54, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 50, 44, 48, 13, 10, 48, 44, 50, 44, 49, 44, 49, 44, 50, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 50, 44, 48, 13, 10, 48, 44, 50, 44, 49, 44, 49, 44, 50, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 53, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 50, 44, 48, 13, 10, 48, 44, 50, 44, 49, 44, 49, 44, 50, 44, 50, 44, 48, 44, 50, 44, 48, 44, 50, 44, 48, 44, 50, 44, 48, 44, 50, 44, 48, 44, 50, 44, 48, 44, 56, 44, 56, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 50, 44, 48, 13, 10, 48, 44, 50, 44, 49, 44, 49, 44, 50, 44, 48, 44, 48, 44, 50, 44, 48, 44, 50, 44, 48, 44, 50, 44, 48, 44, 50, 44, 48, 44, 50, 44, 48, 44, 56, 44, 56, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 50, 44, 50, 44, 50, 44, 48, 13, 10, 48, 44, 50, 44, 49, 44, 49, 44, 50, 44, 51, 44, 51, 44, 51, 44, 51, 44, 51, 44, 51, 44, 51, 44, 51, 44, 51, 44, 51, 44, 51, 44, 51, 44, 51, 44, 48, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 50, 44, 49, 44, 48, 44, 48, 13, 10, 48, 44, 50, 44, 49, 44, 49, 44, 50, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 53, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 50, 44, 49, 44, 48, 44, 48, 13, 10, 48, 44, 50, 44, 48, 44, 48, 44, 50, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 50, 44, 49, 44, 48, 44, 48, 13, 10, 48, 44, 50, 44, 52, 44, 48, 44, 50, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 50, 44, 49, 44, 48, 44, 48, 13, 10, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 50, 44, 49, 44, 48, 44, 48, 13, 10, 51, 44, 49, 44, 49, 44, 49, 44, 49, 44, 53, 44, 53, 44, 48, 44, 54, 44, 54, 44, 54, 44, 54, 44, 51, 44, 54, 44, 54, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 13, 10, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 53, 44, 53, 44, 48, 44, 48, 44, 53, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 53, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 13, 10, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 48, 44, 48, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 13, 10]);
	staticFileSystem.createFile("/media/map6.map", [54, 48, 13, 10, 50, 48, 13, 10, 116, 105, 108, 101, 115, 101, 116, 49, 46, 112, 110, 103, 13, 10, 109, 97, 112, 55, 46, 109, 97, 112, 13, 10, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 50, 44, 50, 44, 50, 44, 50, 44, 50, 44, 50, 44, 50, 44, 50, 44, 50, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 50, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 13, 10, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 50, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 50, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 13, 10, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 50, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 48, 44, 48, 44, 48, 44, 49, 44, 50, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 13, 10, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 56, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 50, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 51, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 54, 44, 48, 44, 49, 44, 49, 49, 44, 48, 44, 49, 48, 44, 49, 44, 50, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 13, 10, 48, 44, 48, 44, 48, 44, 56, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 55, 44, 48, 44, 48, 44, 48, 44, 50, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 50, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 13, 10, 52, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 53, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 50, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 13, 10, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 50, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 13, 10, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 53, 44, 53, 44, 48, 44, 48, 44, 48, 44, 54, 44, 48, 44, 48, 44, 57, 44, 48, 44, 48, 44, 54, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 50, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 13, 10, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 51, 44, 53, 44, 53, 44, 51, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 50, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 13, 10, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 50, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 13, 10, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 50, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 13, 10, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 50, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 13, 10, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 50, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 13, 10, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 50, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 13, 10, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 50, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 13, 10, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 50, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 13, 10, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 50, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 13, 10, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 50, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 50, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 13, 10, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 51, 44, 51, 44, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 50, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 13, 10, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 13, 10]);
	staticFileSystem.createFile("/media/map7.map", [52, 48, 13, 10, 51, 48, 13, 10, 116, 105, 108, 101, 115, 101, 116, 49, 46, 112, 110, 103, 13, 10, 109, 97, 112, 56, 46, 109, 97, 112, 13, 10, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 13, 10, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 13, 10, 48, 44, 48, 44, 52, 44, 48, 44, 48, 44, 49, 44, 49, 48, 44, 48, 44, 48, 44, 49, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 13, 10, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 13, 10, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 13, 10, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 50, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 13, 10, 48, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 50, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 13, 10, 48, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 50, 44, 51, 44, 51, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 13, 10, 48, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 56, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 13, 10, 48, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 13, 10, 48, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 13, 10, 48, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 13, 10, 48, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 13, 10, 48, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 13, 10, 48, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 13, 10, 48, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 13, 10, 48, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 51, 44, 48, 44, 51, 44, 48, 44, 51, 44, 48, 44, 51, 44, 48, 44, 51, 44, 48, 44, 51, 44, 48, 44, 51, 44, 48, 44, 51, 44, 54, 44, 48, 44, 48, 44, 54, 44, 48, 44, 50, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 13, 10, 48, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 50, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 13, 10, 48, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 50, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 13, 10, 48, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 50, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 13, 10, 48, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 50, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 13, 10, 48, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 50, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 13, 10, 48, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 50, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 13, 10, 48, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 50, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 50, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 13, 10, 48, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 50, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 13, 10, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 50, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 13, 10, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 50, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 13, 10, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 13, 10, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 55, 44, 51, 44, 51, 44, 48, 44, 55, 44, 51, 44, 51, 44, 48, 44, 55, 44, 51, 44, 51, 44, 48, 44, 55, 44, 51, 44, 51, 44, 48, 44, 51, 44, 55, 44, 51, 44, 51, 44, 48, 44, 51, 44, 51, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 13, 10, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 53, 44, 49, 44, 49, 44, 49, 44, 53, 44, 49, 44, 49, 44, 49, 44, 53, 44, 49, 44, 49, 44, 49, 44, 53, 44, 49, 44, 49, 44, 49, 44, 49, 44, 53, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 13, 10]);
	staticFileSystem.createFile("/media/realmap0.map", [52, 48, 13, 10, 49, 53, 13, 10, 116, 105, 108, 101, 115, 101, 116, 49, 46, 112, 110, 103, 13, 10, 13, 10, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 13, 10, 48, 44, 52, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 13, 10, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 13, 10, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 54, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 54, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 48, 44, 48, 44, 48, 44, 48, 13, 10, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 13, 10, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 51, 44, 51, 44, 53, 44, 51, 44, 51, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 13, 10, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 13, 10, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 13, 10, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 13, 10, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 13, 10, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 13, 10, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 13, 10, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 13, 10, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 13, 10, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 53, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 13, 10]);
	staticFileSystem.createFile("/media/smalfont.glfont", [91, 70, 111, 110, 116, 83, 116, 121, 108, 101, 93, 13, 10, 67, 111, 108, 111, 114, 61, 49, 57, 55, 51, 55, 57, 48, 13, 10, 79, 117, 116, 108, 105, 110, 101, 67, 111, 108, 61, 49, 53, 51, 50, 57, 55, 54, 57, 13, 10, 66, 107, 67, 111, 108, 111, 114, 61, 48, 13, 10, 83, 104, 67, 111, 108, 111, 114, 61, 55, 51, 54, 56, 56, 49, 54, 13, 10, 67, 104, 97, 114, 115, 101, 116, 61, 49, 13, 10, 81, 117, 97, 108, 105, 116, 121, 61, 49, 13, 10, 79, 117, 116, 108, 105, 110, 101, 61, 49, 13, 10, 83, 104, 97, 100, 111, 119, 82, 61, 48, 13, 10, 83, 104, 97, 100, 111, 119, 66, 61, 48, 13, 10, 73, 115, 80, 111, 119, 50, 61, 48, 13, 10, 65, 115, 99, 105, 105, 50, 53, 54, 61, 49, 13, 10, 79, 117, 116, 112, 117, 116, 80, 78, 71, 61, 49, 13, 10, 70, 111, 110, 116, 83, 105, 122, 101, 61, 50, 51, 13, 10, 70, 111, 114, 99, 101, 87, 105, 100, 116, 104, 61, 48, 13, 10, 70, 111, 114, 99, 101, 100, 72, 101, 105, 103, 104, 116, 61, 50, 55, 50, 13, 10, 70, 111, 114, 99, 101, 100, 87, 105, 100, 116, 104, 61, 50, 53, 54, 13, 10, 79, 117, 116, 108, 105, 110, 101, 65, 65, 61, 48, 13, 10, 87, 105, 100, 116, 104, 61, 51, 48, 48, 13, 10, 83, 97, 118, 101, 78, 97, 109, 101, 61, 67, 58, 92, 85, 115, 101, 114, 115, 92, 82, 111, 98, 101, 114, 116, 92, 68, 111, 99, 117, 109, 101, 110, 116, 115, 92, 71, 76, 66, 97, 115, 105, 99, 92, 74, 117, 109, 112, 73, 116, 92, 74, 117, 109, 112, 73, 116, 46, 97, 112, 112, 92, 77, 101, 100, 105, 97, 92, 115, 109, 97, 108, 102, 111, 110, 116, 46, 112, 110, 103, 13, 10, 70, 111, 110, 116, 70, 97, 99, 101, 61, 67, 111, 109, 105, 99, 32, 83, 97, 110, 115, 32, 77, 83, 13, 10, 79, 110, 101, 80, 105, 120, 82, 105, 103, 104, 116, 61, 48, 13, 10]);
	staticFileSystem.createFile("/media/smalfont2.glfont", [91, 70, 111, 110, 116, 83, 116, 121, 108, 101, 93, 13, 10, 67, 111, 108, 111, 114, 61, 49, 54, 55, 55, 55, 50, 49, 53, 13, 10, 79, 117, 116, 108, 105, 110, 101, 67, 111, 108, 61, 51, 49, 53, 56, 48, 54, 52, 13, 10, 66, 107, 67, 111, 108, 111, 114, 61, 48, 13, 10, 83, 104, 67, 111, 108, 111, 114, 61, 55, 51, 54, 56, 56, 49, 54, 13, 10, 67, 104, 97, 114, 115, 101, 116, 61, 49, 13, 10, 81, 117, 97, 108, 105, 116, 121, 61, 50, 13, 10, 79, 117, 116, 108, 105, 110, 101, 61, 48, 13, 10, 83, 104, 97, 100, 111, 119, 82, 61, 48, 13, 10, 83, 104, 97, 100, 111, 119, 66, 61, 48, 13, 10, 73, 115, 80, 111, 119, 50, 61, 48, 13, 10, 65, 115, 99, 105, 105, 50, 53, 54, 61, 49, 13, 10, 79, 117, 116, 112, 117, 116, 80, 78, 71, 61, 49, 13, 10, 70, 111, 110, 116, 83, 105, 122, 101, 61, 51, 52, 13, 10, 70, 111, 114, 99, 101, 87, 105, 100, 116, 104, 61, 48, 13, 10, 70, 111, 114, 99, 101, 100, 72, 101, 105, 103, 104, 116, 61, 51, 54, 56, 13, 10, 70, 111, 114, 99, 101, 100, 87, 105, 100, 116, 104, 61, 51, 51, 54, 13, 10, 79, 117, 116, 108, 105, 110, 101, 65, 65, 61, 48, 13, 10, 87, 105, 100, 116, 104, 61, 49, 48, 48, 13, 10, 83, 97, 118, 101, 78, 97, 109, 101, 61, 67, 58, 92, 85, 115, 101, 114, 115, 92, 82, 111, 98, 101, 114, 116, 92, 68, 111, 99, 117, 109, 101, 110, 116, 115, 92, 71, 76, 66, 97, 115, 105, 99, 92, 74, 117, 109, 112, 73, 116, 92, 115, 109, 97, 108, 102, 111, 110, 116, 50, 46, 112, 110, 103, 13, 10, 70, 111, 110, 116, 70, 97, 99, 101, 61, 65, 114, 105, 97, 108, 13, 10, 79, 110, 101, 80, 105, 120, 82, 105, 103, 104, 116, 61, 48, 13, 10]);
	staticFileSystem.createFile("/media/snowmap0.map", [50, 48, 13, 10, 50, 48, 13, 10, 115, 110, 111, 119, 116, 105, 108, 101, 115, 101, 116, 46, 112, 110, 103, 13, 10, 13, 10, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 13, 10, 49, 44, 48, 44, 52, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 13, 10, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 13, 10, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 48, 44, 48, 44, 49, 13, 10, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 51, 44, 51, 44, 51, 44, 51, 44, 51, 44, 49, 44, 48, 44, 48, 44, 49, 13, 10, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 49, 13, 10, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 56, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 13, 10, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 13, 10, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 56, 44, 48, 44, 49, 13, 10, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 54, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 13, 10, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 13, 10, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 13, 10, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 13, 10, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 13, 10, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 50, 44, 49, 13, 10, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 13, 10, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 49, 44, 48, 13, 10, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 48, 13, 10, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 48, 13, 10, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 13, 10]);
	staticFileSystem.createFile("/media/snowmap1.map", [53, 48, 13, 10, 50, 48, 13, 10, 115, 110, 111, 119, 116, 105, 108, 101, 115, 101, 116, 46, 112, 110, 103, 13, 10, 13, 10, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 13, 10, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 13, 10, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 13, 10, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 48, 13, 10, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 13, 10, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 13, 10, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 13, 10, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 13, 10, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 13, 10, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 13, 10, 48, 44, 48, 44, 48, 44, 52, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 13, 10, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 13, 10, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 13, 10, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 48, 44, 48, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 13, 10, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 48, 44, 48, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 13, 10, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 48, 44, 48, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 13, 10, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 48, 44, 48, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 13, 10, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 48, 44, 48, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 13, 10, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 48, 44, 48, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 13, 10, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 48, 44, 48, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 13, 10]);
	staticFileSystem.createFile("/media/snowmap2.map", [51, 53, 13, 10, 50, 48, 13, 10, 115, 110, 111, 119, 116, 105, 108, 101, 115, 101, 116, 46, 112, 110, 103, 13, 10, 13, 10, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 13, 10, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 13, 10, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 13, 10, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 13, 10, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 13, 10, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 48, 13, 10, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 13, 10, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 13, 10, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 13, 10, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 53, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 53, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 13, 10, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 13, 10, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 13, 10, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 13, 10, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 13, 10, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 13, 10, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 13, 10, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 13, 10, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 48, 44, 48, 44, 48, 44, 49, 50, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 13, 10, 49, 44, 49, 44, 49, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 13, 10, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 48, 44, 49, 44, 48, 44, 48, 44, 48, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 44, 49, 13, 10]);
	initFS = null;
}
var viewMode = "graphics";
var compileTime = "?=>?:=B:=C-?=GA=G?E";
var userDefVersion = "===;==>";
var hostId = "?F=E>CqB";
var uniqueId = new Date().getTime()+""+Math.random()*10000000;
var startTime = new Date().getTime();
var debugMode = false;
var global12_Hardware_Str = "", const13_STATE_IS_GAME = 0, global9_Gamestate = 0, global11_EditorEnemy = new type6_TEnemy(), global10_SelectTile = 0, global6_MouseX_ref = [0.0], global6_MouseY_ref = [0.0], global2_ML_ref = [0.0], global2_MR_ref = [0.0], global11_PlayerImage = 0, global11_LadderImage = 0, global10_SpikeImage = 0, global15_TrampolineImage = 0, global8_PigImage = 0, global10_HumanImage = 0, global9_BirdImage = 0, global9_ShitImage = 0, global10_LlamaImage = 0, global9_SpitImage = 0, global9_DoorImage = 0, global12_TriggerImage = 0, global12_DynamitImage = 0, global14_ExplosionImage = 0, global9_MenuImage = 0, global11_ButtonImage = 0, global10_ArrowImage = 0, global9_JumpImage = 0, global6_Player = new type7_TPlayer(), global3_Map = new type4_TMap(), global17_LastMousePosition = new GLBArray(), global9_Title_Str = "", global9_Menu1_Str = "", global9_Menu2_Str = "", global9_Menu3_Str = "", global6_Action = 0, const7_IS_BIRD = 1, const6_IS_PIG = 2, const8_IS_HUMAN = 3, const8_IS_LLAMA = 4, global6_Enemys = new GLBArray(), global10_Explosions = new GLBArray(), const8_Tilesize = 32, global5_Shits = new GLBArray(), global5_Spits = new GLBArray();
function main(){
	var local2_dx_ref = [0], local2_dy_ref = [0];
	LIMITFPS(30);
	global12_Hardware_Str = PLATFORMINFO_Str("DEVICE");
	GETDESKTOPSIZE(local2_dx_ref, local2_dy_ref);
	SYSTEMPOINTER(1);
	if ((((global12_Hardware_Str) == ("DESKTOP")) ? 1 : 0)) {
		local2_dx_ref[0] = 800;
		local2_dy_ref[0] = 600;
		
	};
	SETSCREEN(unref(local2_dx_ref[0]), unref(local2_dy_ref[0]), 0);
	if ((((local2_dx_ref[0]) < (local2_dy_ref[0])) ? 1 : 0)) {
		if (((((((global12_Hardware_Str) != ("DESKTOP")) ? 1 : 0)) || ((((global12_Hardware_Str) == ("WIZ")) ? 1 : 0))) ? 1 : 0)) {
			SETORIENTATION(1);
			
		};
		
	};
	SETCURRENTDIR("Media");
	global9_Gamestate = CAST2INT(const13_STATE_IS_GAME);
	global10_SelectTile = 0;
	global11_PlayerImage = GENSPRITE();
	LOADANIM("spieler.png", unref(global11_PlayerImage), 16, 32);
	global11_LadderImage = GENSPRITE();
	LOADSPRITE("leiter.png", unref(global11_LadderImage));
	global10_SpikeImage = GENSPRITE();
	LOADSPRITE("stachel.png", unref(global10_SpikeImage));
	global15_TrampolineImage = GENSPRITE();
	LOADSPRITE("trampolin.png", unref(global15_TrampolineImage));
	global8_PigImage = GENSPRITE();
	LOADANIM("schwein.png", unref(global8_PigImage), 32, 32);
	global10_HumanImage = GENSPRITE();
	LOADSPRITE("fettmonster.png", unref(global10_HumanImage));
	global9_BirdImage = GENSPRITE();
	LOADANIM("vogel.png", unref(global9_BirdImage), 32, 16);
	global9_ShitImage = GENSPRITE();
	LOADSPRITE("exkrement.png", unref(global9_ShitImage));
	global10_LlamaImage = GENSPRITE();
	LOADANIM("llama.png", unref(global10_LlamaImage), 46, 64);
	global9_SpitImage = GENSPRITE();
	LOADSPRITE("spucke.png", unref(global9_SpitImage));
	global9_DoorImage = GENSPRITE();
	LOADSPRITE("tuer.png", unref(global9_DoorImage));
	global12_TriggerImage = GENSPRITE();
	LOADANIM("schalter.png", unref(global12_TriggerImage), 32, 16);
	global12_DynamitImage = GENSPRITE();
	LOADSPRITE("dynamit.png", unref(global12_DynamitImage));
	global14_ExplosionImage = GENSPRITE();
	LOADANIM("explosion.png", unref(global14_ExplosionImage), 32, 32);
	global9_MenuImage = GENSPRITE();
	LOADSPRITE("menu.png", unref(global9_MenuImage));
	global11_ButtonImage = GENSPRITE();
	LOADSPRITE("button.png", unref(global11_ButtonImage));
	global10_ArrowImage = GENSPRITE();
	LOADSPRITE("pfeil.png", unref(global10_ArrowImage));
	global9_JumpImage = GENSPRITE();
	LOADSPRITE("springen.png", unref(global9_JumpImage));
	CLEARSCREEN(RGB(63, 156, 255));
	Init();
	global9_Title_Str = "JumpIt Spielmenue";
	global9_Menu1_Str = "Spielen";
	global9_Menu2_Str = "Mapeditor";
	global9_Menu3_Str = "Beenden";
	PUSHLOOP("MENU_LOOP");
	global9_Menu3_Str = "";
	
}
function GLB_ON_LOOP() {
	{
		var ex_Str = "";
		try {
			Update();
			Update();
			Render();
			
		} catch (ex_Str) {
			ex_Str = ex_Str.toString();
			if (ex_Str.substr(0, 6) == "GLBERR") ex_Str = MID_Str(ex_Str, 6, -1); else throwError(ex_Str);{
				
			}
		};
		
	};
	SHOWSCREEN();
	
};
window['GLB_ON_LOOP'] = GLB_ON_LOOP;
function Update() {
	MOUSESTATE(global6_MouseX_ref, global6_MouseY_ref, global2_ML_ref, global2_MR_ref);
	{
		var local16___SelectHelper1_ = 0;
		local16___SelectHelper1_ = global9_Gamestate;
		if ((((local16___SelectHelper1_) == (CAST2INT(const13_STATE_IS_GAME))) ? 1 : 0)) {
			(global3_Map).Update();
			var forEachSaver338 = global6_Enemys;
			for(var forEachCounter338 = 0 ; forEachCounter338 < forEachSaver338.values.length ; forEachCounter338++) {
				var local5_Enemy = forEachSaver338.values[forEachCounter338];
			{
					(local5_Enemy).Update();
					
				}
				forEachSaver338.values[forEachCounter338] = local5_Enemy;
			
			};
			var forEachSaver353 = global5_Shits;
			for(var forEachCounter353 = 0 ; forEachCounter353 < forEachSaver353.values.length ; forEachCounter353++) {
				var local4_Shit = forEachSaver353.values[forEachCounter353];
			{
					(local4_Shit).Update();
					if (local4_Shit.attr3_Del) {
						//DELETE!!111
						forEachSaver353.values[forEachCounter353] = local4_Shit;
						DIMDEL(forEachSaver353, forEachCounter353);
						forEachCounter353--;
						continue;
						
					};
					
				}
				forEachSaver353.values[forEachCounter353] = local4_Shit;
			
			};
			var forEachSaver368 = global5_Spits;
			for(var forEachCounter368 = 0 ; forEachCounter368 < forEachSaver368.values.length ; forEachCounter368++) {
				var local4_Spit = forEachSaver368.values[forEachCounter368];
			{
					(local4_Spit).Update();
					if (local4_Spit.attr3_Del) {
						//DELETE!!111
						forEachSaver368.values[forEachCounter368] = local4_Spit;
						DIMDEL(forEachSaver368, forEachCounter368);
						forEachCounter368--;
						continue;
						
					};
					
				}
				forEachSaver368.values[forEachCounter368] = local4_Spit;
			
			};
			var forEachSaver383 = global10_Explosions;
			for(var forEachCounter383 = 0 ; forEachCounter383 < forEachSaver383.values.length ; forEachCounter383++) {
				var local9_Explosion = forEachSaver383.values[forEachCounter383];
			{
					(local9_Explosion).Update();
					if (local9_Explosion.attr3_Del) {
						//DELETE!!111
						forEachSaver383.values[forEachCounter383] = local9_Explosion;
						DIMDEL(forEachSaver383, forEachCounter383);
						forEachCounter383--;
						continue;
						
					};
					
				}
				forEachSaver383.values[forEachCounter383] = local9_Explosion;
			
			};
			(global6_Player).Update();
			
		};
		
	};
	
};
window['Update'] = Update;
function Render() {
	var local5_Width_ref = [0.0], local6_Height_ref = [0.0];
	GETSCREENSIZE(local5_Width_ref, local6_Height_ref);
	{
		var local16___SelectHelper2_ = 0;
		local16___SelectHelper2_ = global9_Gamestate;
		if ((((local16___SelectHelper2_) == (CAST2INT(const13_STATE_IS_GAME))) ? 1 : 0)) {
			var forEachSaver407 = global5_Shits;
			for(var forEachCounter407 = 0 ; forEachCounter407 < forEachSaver407.values.length ; forEachCounter407++) {
				var local4_Shit = forEachSaver407.values[forEachCounter407];
			{
					(local4_Shit).Render();
					
				}
				forEachSaver407.values[forEachCounter407] = local4_Shit;
			
			};
			(global3_Map).Render();
			var forEachSaver417 = global5_Spits;
			for(var forEachCounter417 = 0 ; forEachCounter417 < forEachSaver417.values.length ; forEachCounter417++) {
				var local4_Spit = forEachSaver417.values[forEachCounter417];
			{
					(local4_Spit).Render();
					
				}
				forEachSaver417.values[forEachCounter417] = local4_Spit;
			
			};
			var forEachSaver425 = global6_Enemys;
			for(var forEachCounter425 = 0 ; forEachCounter425 < forEachSaver425.values.length ; forEachCounter425++) {
				var local5_Enemy = forEachSaver425.values[forEachCounter425];
			{
					(local5_Enemy).Render();
					
				}
				forEachSaver425.values[forEachCounter425] = local5_Enemy;
			
			};
			var forEachSaver433 = global10_Explosions;
			for(var forEachCounter433 = 0 ; forEachCounter433 < forEachSaver433.values.length ; forEachCounter433++) {
				var local9_Explosion = forEachSaver433.values[forEachCounter433];
			{
					(local9_Explosion).Render();
					
				}
				forEachSaver433.values[forEachCounter433] = local9_Explosion;
			
			};
			(global6_Player).Render();
			if (global12_Hardware_Str) {
				func10_GameButton(42, ((local6_Height_ref[0]) - (42)), "<");
				func10_GameButton(((local5_Width_ref[0]) - (42)), ((local6_Height_ref[0]) - (42)), ">");
				func10_GameButton(42, ((local6_Height_ref[0]) - (125)), "jump");
				func10_GameButton(((local5_Width_ref[0]) - (42)), ((local6_Height_ref[0]) - (125)), "jump");
				
			};
			
		};
		
	};
	
};
window['Render'] = Render;
function Init() {
	var local5_Width_ref = [0.0], local6_Height_ref = [0.0];
	GETSCREENSIZE(local5_Width_ref, local6_Height_ref);
	{
		var local16___SelectHelper3_ = 0;
		local16___SelectHelper3_ = global9_Gamestate;
		if ((((local16___SelectHelper3_) == (CAST2INT(const13_STATE_IS_GAME))) ? 1 : 0)) {
			(global6_Player).Init(100, 100, 16, 32);
			(global3_Map).Init("map1.map");
			
		};
		
	};
	DIM(unref(global17_LastMousePosition), [0], 0);
	
};
window['Init'] = Init;
function MENU_LOOP() {
	var local1_x_ref = [0.0], local1_y_ref = [0.0], local1_w_ref = [0.0], local1_h_ref = [0.0], local2_iw_ref = [0.0], local2_ih_ref = [0.0], local2_hh = 0.0;
	GETFONTSIZE(local1_x_ref, local1_y_ref);
	GETSCREENSIZE(local1_w_ref, local1_h_ref);
	GETSPRITESIZE(unref(CAST2FLOAT(global9_MenuImage)), local2_iw_ref, local2_ih_ref);
	local2_hh = ((local1_h_ref[0]) - (150));
	global6_Action = 0;
	MOUSESTATE(global6_MouseX_ref, global6_MouseY_ref, global2_ML_ref, global2_MR_ref);
	Render();
	STRETCHSPRITE(unref(global9_MenuImage), ((local1_w_ref[0]) - (CAST2FLOAT(LEN(global9_Title_Str)))), 8, ((-(local1_w_ref[0])) - (CAST2FLOAT(LEN(global9_Title_Str)))), unref(local2_ih_ref[0]));
	PRINT(unref(global9_Title_Str), 20, ((40) - (((local1_y_ref[0]) / (2)))), 0);
	if (func6_Button(global9_Menu1_Str, ((((local2_hh) / (3))) + (100)))) {
		global6_Action = 1;
		
	};
	if (func6_Button(global9_Menu2_Str, ((((((local2_hh) / (3))) * (2))) + (100)))) {
		global6_Action = 2;
		
	};
	if ((((global9_Menu3_Str) != ("")) ? 1 : 0)) {
		if (func6_Button(global9_Menu3_Str, ((local2_hh) + (100)))) {
			global6_Action = 3;
			
		};
		
	};
	{
		var local16___SelectHelper4_ = 0;
		local16___SelectHelper4_ = global6_Action;
		if ((((local16___SelectHelper4_) == (1)) ? 1 : 0)) {
			global9_Gamestate = CAST2INT(const13_STATE_IS_GAME);
			POPLOOP();
			
		} else if ((((local16___SelectHelper4_) == (3)) ? 1 : 0)) {
			END();
			
		};
		
	};
	if (global6_Action) {
		Init();
		
	};
	SHOWSCREEN();
	
};
window['MENU_LOOP'] = MENU_LOOP;
function func6_Button(param8_Text_Str, param1_Y) {
	param8_Text_Str = unref(param8_Text_Str);
	param1_Y = unref(param1_Y);
	var local1_x_ref = [0.0], local1_y_ref = [0.0], local1_w_ref = [0.0], local1_h_ref = [0.0], local2_iw_ref = [0.0], local2_ih_ref = [0.0];
	GETFONTSIZE(local1_x_ref, local1_y_ref);
	GETSCREENSIZE(local1_w_ref, local1_h_ref);
	GETSPRITESIZE(unref(CAST2FLOAT(global9_MenuImage)), local2_iw_ref, local2_ih_ref);
	if (BOXCOLL(0, CAST2INT(((param1_Y) - (32))), unref(CAST2INT(local1_w_ref[0])), unref(CAST2INT(local2_ih_ref[0])), unref(CAST2INT(global6_MouseX_ref[0])), unref(CAST2INT(global6_MouseY_ref[0])), 1, 1)) {
		ALPHAMODE(0);
		if (global2_ML_ref[0]) {
			return 1;
			
		};
		
	} else {
		ALPHAMODE(-(0.75));
		
	};
	STRETCHSPRITE(unref(global9_MenuImage), 0, ((param1_Y) - (32)), unref(local1_w_ref[0]), unref(local2_ih_ref[0]));
	ALPHAMODE(0);
	PRINT(unref(param8_Text_Str), 40, ((param1_Y) - (((local1_y_ref[0]) / (2)))), 0);
	return tryClone(0);
	return 0;
	
};
function func10_GameButton(param1_X, param1_Y, param8_Text_Str) {
	param1_X = unref(param1_X);
	param1_Y = unref(param1_Y);
	param8_Text_Str = unref(param8_Text_Str);
	if (func16_UpdateGameButton(param1_X, param1_Y)) {
		ALPHAMODE(0.5);
		
	} else {
		ALPHAMODE(-(0.5));
		
	};
	DRAWSPRITE(unref(global11_ButtonImage), ((param1_X) - (32)), ((param1_Y) - (32)));
	{
		var local16___SelectHelper5_ = "";
		local16___SelectHelper5_ = param8_Text_Str;
		if ((((local16___SelectHelper5_) == ("<")) ? 1 : 0)) {
			DRAWSPRITE(unref(global10_ArrowImage), ((param1_X) - (32)), ((param1_Y) - (32)));
			
		} else if ((((local16___SelectHelper5_) == (">")) ? 1 : 0)) {
			ZOOMSPRITE(unref(global10_ArrowImage), ((param1_X) - (32)), ((param1_Y) - (32)), CAST2FLOAT(-(1)), 1);
			
		} else if ((((local16___SelectHelper5_) == ("jump")) ? 1 : 0)) {
			DRAWSPRITE(unref(global9_JumpImage), ((param1_X) - (32)), ((param1_Y) - (32)));
			
		};
		
	};
	ALPHAMODE(0);
	return 0;
	
};
function func16_UpdateGameButton(param1_X, param1_Y) {
	param1_X = unref(param1_X);
	param1_Y = unref(param1_Y);
	var local2_MX_ref = [0.0], local2_MY_ref = [0.0], local2_ML_ref = [0.0], local2_MR_ref = [0.0], local1_i = 0.0;
	for (local1_i = 0;forCheck(local1_i, CAST2FLOAT(((GETMOUSECOUNT()) - (1))), 1);local1_i += 1) {
		SETACTIVEMOUSE(unref(CAST2INT(local1_i)));
		MOUSESTATE(local2_MX_ref, local2_MY_ref, local2_ML_ref, local2_MR_ref);
		if ((((CAST2FLOAT(BOXCOLL(CAST2INT(((param1_X) - (32))), CAST2INT(((param1_Y) - (32))), 64, 64, unref(CAST2INT(local2_MX_ref[0])), unref(CAST2INT(local2_MY_ref[0])), 1, 1))) && (local2_ML_ref[0])) ? 1 : 0)) {
			SETACTIVEMOUSE(0);
			return tryClone(1);
			
		};
		
	};
	SETACTIVEMOUSE(0);
	return 0;
	return 0;
	
};
function method12_type6_TEnemy_6_Update(param4_self) {
	param4_self = unref(param4_self);
	if (param4_self.attr4_Fall) {
		param4_self.attr2_VY = ((param4_self.attr2_VY) + (0.2));
		param4_self.attr1_Y+=CAST2INT(param4_self.attr2_VY);
		
	} else {
		param4_self.attr4_Anim+=1;
		{
			var local16___SelectHelper6_ = 0;
			local16___SelectHelper6_ = param4_self.attr3_Typ;
			if ((((local16___SelectHelper6_) == (CAST2INT(const7_IS_BIRD))) ? 1 : 0)) {
				if (((((((((((global3_Map).CollisionPoint(((((param4_self.attr1_X) + (2))) + (param4_self.attr2_VX)), ((param4_self.attr1_Y) + (((param4_self.attr6_Height) / (2)))))) || ((global3_Map).CollisionPoint(((((((param4_self.attr1_X) - (2))) + (param4_self.attr2_VX))) + (param4_self.attr5_Width)), ((param4_self.attr1_Y) + (((param4_self.attr6_Height) / (2))))))) ? 1 : 0)) || ((((((param4_self.attr1_X) + (param4_self.attr2_VX))) < (0)) ? 1 : 0))) ? 1 : 0)) || ((((((param4_self.attr1_X) + (param4_self.attr2_VX))) > (((CAST2FLOAT(global3_Map.attr5_Width)) * (const8_Tilesize)))) ? 1 : 0))) ? 1 : 0)) {
					param4_self.attr2_VX = -(param4_self.attr2_VX);
					
				};
				param4_self.attr1_X+=CAST2INT(param4_self.attr2_VX);
				param4_self.attr2_VY = func4_QCOS(CAST2FLOAT(((GETTIMERALL()) / (10))));
				if ((global3_Map).Collision(((param4_self.attr1_X) + (4)), ((param4_self.attr1_Y) + (param4_self.attr2_VY)), ((param4_self.attr5_Width) - (8)), param4_self.attr6_Height)) {
					param4_self.attr2_VY = 0;
					
				};
				param4_self.attr12_EventCounter+=1;
				if ((((MOD(unref(param4_self.attr12_EventCounter), CAST2INT(RND(500)))) == (5)) ? 1 : 0)) {
					var local1_S = new type5_TShit();
					(local1_S).Init(param4_self.attr1_X, param4_self.attr1_Y);
					
				};
				param4_self.attr1_Y+=CAST2INT(param4_self.attr2_VY);
				param4_self.attr4_Anim = MOD(unref(param4_self.attr4_Anim), 30);
				
			} else if (((((((local16___SelectHelper6_) >= (CAST2INT(const6_IS_PIG))) ? 1 : 0)) && ((((local16___SelectHelper6_) <= (CAST2INT(const8_IS_LLAMA))) ? 1 : 0))) ? 1 : 0)) {
				{
					var local16___SelectHelper7_ = 0;
					local16___SelectHelper7_ = param4_self.attr3_Typ;
					if ((((local16___SelectHelper7_) == (CAST2INT(const8_IS_LLAMA))) ? 1 : 0)) {
						var local4_Look = 0.0;
						param4_self.attr4_Anim = MOD(unref(param4_self.attr4_Anim), 15);
						param4_self.attr12_EventCounter+=1;
						if ((((param4_self.attr2_VX) < (0)) ? 1 : 0)) {
							local4_Look = 0;
							
						} else {
							local4_Look = ((param4_self.attr5_Width) / (2));
							
						};
						if (((((((MOD(unref(param4_self.attr12_EventCounter), 55)) == (5)) ? 1 : 0)) && (((((global3_Map).RayCollision(((param4_self.attr1_X) + (local4_Look)), ((param4_self.attr1_Y) + (4)), global6_Player.attr1_X, global6_Player.attr1_Y)) == (0)) ? 1 : 0))) ? 1 : 0)) {
							var local1_S = new type5_TSpit();
							(local1_S).Init(((param4_self.attr1_X) + (local4_Look)), ((param4_self.attr1_Y) + (4)), ((param4_self.attr2_VX) * (4)), ((param4_self.attr2_VY) - (RND(2))));
							
						};
						
					} else if ((((local16___SelectHelper7_) == (CAST2INT(const6_IS_PIG))) ? 1 : 0)) {
						param4_self.attr4_Anim = MOD(unref(param4_self.attr4_Anim), 10);
						
					};
					
				};
				if ((((((((((((((((CAST2FLOAT((global3_Map).CollisionPoint(((param4_self.attr1_X) + (param4_self.attr2_VX)), ((((param4_self.attr1_Y) + (param4_self.attr6_Height))) + (1))))) == (0)) ? 1 : 0)) || ((((CAST2FLOAT((global3_Map).CollisionPoint(((((param4_self.attr1_X) + (param4_self.attr5_Width))) + (param4_self.attr2_VX)), ((((param4_self.attr1_Y) + (param4_self.attr6_Height))) + (1))))) == (0)) ? 1 : 0))) ? 1 : 0)) || (((((global3_Map).CollisionPoint(((((param4_self.attr1_X) + (2))) + (param4_self.attr2_VX)), ((param4_self.attr1_Y) + (((param4_self.attr6_Height) / (2)))))) || ((global3_Map).CollisionPoint(((((((param4_self.attr1_X) - (2))) + (param4_self.attr2_VX))) + (param4_self.attr5_Width)), ((param4_self.attr1_Y) + (((param4_self.attr6_Height) / (2))))))) ? 1 : 0))) ? 1 : 0)) || ((((((param4_self.attr1_X) + (param4_self.attr2_VX))) < (0)) ? 1 : 0))) ? 1 : 0)) || ((((((param4_self.attr1_X) + (param4_self.attr2_VX))) > (((CAST2FLOAT(global3_Map.attr5_Width)) * (const8_Tilesize)))) ? 1 : 0))) ? 1 : 0)) {
					param4_self.attr2_VX = -(param4_self.attr2_VX);
					
				};
				param4_self.attr1_X+=CAST2INT(param4_self.attr2_VX);
				
			};
			
		};
		
	};
	return 0;
	
};
function method12_type6_TEnemy_6_Render(param4_self) {
	param4_self = unref(param4_self);
	var local5_Frame = 0;
	local5_Frame = 0;
	{
		var local16___SelectHelper8_ = 0;
		local16___SelectHelper8_ = param4_self.attr3_Typ;
		if ((((local16___SelectHelper8_) == (CAST2INT(const7_IS_BIRD))) ? 1 : 0)) {
			var local3_Dir = 0;
			if ((((param4_self.attr2_VX) > (0)) ? 1 : 0)) {
				local3_Dir = 1;
				
			} else {
				local3_Dir = 0;
				
			};
			if ((((param4_self.attr4_Anim) > (20)) ? 1 : 0)) {
				local5_Frame = 2;
				
			} else if ((((param4_self.attr4_Anim) > (10)) ? 1 : 0)) {
				local5_Frame = 1;
				
			} else {
				local5_Frame = 0;
				
			};
			func9_TurnImage(global9_BirdImage, local5_Frame, local3_Dir, param4_self.attr1_X, param4_self.attr1_Y, 6);
			
		} else if ((((local16___SelectHelper8_) == (CAST2INT(const6_IS_PIG))) ? 1 : 0)) {
			var local3_Dir = 0;
			if ((((param4_self.attr2_VX) < (0)) ? 1 : 0)) {
				local3_Dir = 0;
				
			} else {
				local3_Dir = 1;
				
			};
			if ((((param4_self.attr4_Anim) > (5)) ? 1 : 0)) {
				local5_Frame = 1;
				
			} else {
				local5_Frame = 0;
				
			};
			func9_TurnImage(global8_PigImage, local5_Frame, local3_Dir, param4_self.attr1_X, param4_self.attr1_Y, 4);
			
		} else if ((((local16___SelectHelper8_) == (CAST2INT(const8_IS_HUMAN))) ? 1 : 0)) {
			ROTOSPRITE(unref(global10_HumanImage), ((param4_self.attr1_X) + (global3_Map.attr7_ScrollX)), ((param4_self.attr1_Y) + (global3_Map.attr7_ScrollY)), CAST2FLOAT(-(MOD(unref(CAST2INT(param4_self.attr1_X)), 360))));
			
		} else if ((((local16___SelectHelper8_) == (CAST2INT(const8_IS_LLAMA))) ? 1 : 0)) {
			var local3_Dir = 0;
			if ((((param4_self.attr2_VX) < (0)) ? 1 : 0)) {
				local3_Dir = 1;
				
			} else {
				local3_Dir = 0;
				
			};
			if ((((param4_self.attr4_Anim) > (10)) ? 1 : 0)) {
				local5_Frame = 2;
				
			} else if ((((param4_self.attr4_Anim) > (5)) ? 1 : 0)) {
				local5_Frame = 1;
				
			} else {
				local5_Frame = 0;
				
			};
			func9_TurnImage(global10_LlamaImage, local5_Frame, local3_Dir, param4_self.attr1_X, param4_self.attr1_Y, 6);
			
		};
		
	};
	return 0;
	
};
function method12_type6_TEnemy_4_Init(param3_Typ, param1_X, param1_Y, param4_self) {
	param3_Typ = unref(param3_Typ);
	param1_X = unref(param1_X);
	param1_Y = unref(param1_Y);
	param4_self = unref(param4_self);
	param4_self.attr3_Typ = param3_Typ;
	param4_self.attr1_X = param1_X;
	param4_self.attr1_Y = param1_Y;
	param4_self.attr5_Width = const8_Tilesize;
	param4_self.attr6_Height = const8_Tilesize;
	{
		var local17___SelectHelper13_ = 0;
		local17___SelectHelper13_ = param4_self.attr3_Typ;
		if ((((local17___SelectHelper13_) == (CAST2INT(const7_IS_BIRD))) ? 1 : 0)) {
			param4_self.attr6_Height = ((const8_Tilesize) / (2));
			if (INTEGER(RND(2))) {
				param4_self.attr2_VX = 1;
				
			} else {
				param4_self.attr2_VX = CAST2FLOAT(-(1));
				
			};
			
		} else if ((((local17___SelectHelper13_) == (CAST2INT(const6_IS_PIG))) ? 1 : 0)) {
			if (INTEGER(RND(2))) {
				param4_self.attr2_VX = 2;
				
			} else {
				param4_self.attr2_VX = CAST2FLOAT(-(2));
				
			};
			
		} else if ((((local17___SelectHelper13_) == (CAST2INT(const8_IS_HUMAN))) ? 1 : 0)) {
			param4_self.attr1_Y = ((param4_self.attr1_Y) - (const8_Tilesize));
			param4_self.attr6_Height = ((const8_Tilesize) * (2));
			param4_self.attr5_Width = ((const8_Tilesize) * (2));
			if (INTEGER(RND(2))) {
				param4_self.attr2_VX = 1;
				
			} else {
				param4_self.attr2_VX = CAST2FLOAT(-(1));
				
			};
			
		} else if ((((local17___SelectHelper13_) == (CAST2INT(const8_IS_LLAMA))) ? 1 : 0)) {
			param4_self.attr1_Y = ((param4_self.attr1_Y) - (const8_Tilesize));
			param4_self.attr6_Height = ((const8_Tilesize) * (2));
			param4_self.attr5_Width = ((const8_Tilesize) * (2));
			if (INTEGER(RND(2))) {
				param4_self.attr2_VX = 1;
				
			} else {
				param4_self.attr2_VX = CAST2FLOAT(-(1));
				
			};
			
		};
		
	};
	DIMPUSH(global6_Enemys, param4_self);
	return 0;
	
};
function method12_type6_TEnemy_13_IsDestroyable(param4_self) {
	param4_self = unref(param4_self);
	if ((((CAST2FLOAT(param4_self.attr3_Typ)) == (const8_IS_HUMAN)) ? 1 : 0)) {
		return 0;
		
	} else {
		return tryClone(1);
		
	};
	return 0;
	
};
function method17_type10_TExplosion_6_Update(param4_self) {
	param4_self = unref(param4_self);
	param4_self.attr4_Anim+=1;
	if ((((param4_self.attr4_Anim) > (20)) ? 1 : 0)) {
		param4_self.attr3_Del = 1;
		
	};
	return 0;
	
};
function method17_type10_TExplosion_6_Render(param4_self) {
	param4_self = unref(param4_self);
	var local5_Frame = 0;
	if ((((param4_self.attr4_Anim) > (15)) ? 1 : 0)) {
		local5_Frame = 3;
		
	} else if ((((param4_self.attr4_Anim) > (10)) ? 1 : 0)) {
		local5_Frame = 2;
		
	} else if ((((param4_self.attr4_Anim) > (5)) ? 1 : 0)) {
		local5_Frame = 1;
		
	} else {
		local5_Frame = 0;
		
	};
	DRAWANIM(unref(global14_ExplosionImage), unref(local5_Frame), ((param4_self.attr1_X) + (global3_Map.attr7_ScrollX)), ((param4_self.attr1_Y) + (global3_Map.attr7_ScrollY)));
	return 0;
	
};
function method17_type10_TExplosion_4_Init(param1_X, param1_Y, param4_self) {
	param1_X = unref(param1_X);
	param1_Y = unref(param1_Y);
	param4_self = unref(param4_self);
	param4_self.attr1_X = param1_X;
	param4_self.attr1_Y = param1_Y;
	DIMPUSH(global10_Explosions, param4_self);
	return 0;
	
};
function method10_type4_TMap_9_InitEmpty(param5_Width, param6_Height, param11_Tileset_Str, param4_self) {
	param5_Width = unref(param5_Width);
	param6_Height = unref(param6_Height);
	param11_Tileset_Str = unref(param11_Tileset_Str);
	param4_self = unref(param4_self);
	param4_self.attr6_IsSnow = 0;
	param4_self.attr5_Width = param5_Width;
	param4_self.attr6_Height = param6_Height;
	param4_self.attr7_ScrollX = 0;
	param4_self.attr7_ScrollY = 0;
	DIM(unref(global5_Spits), [0], new type5_TSpit());
	DIM(unref(global5_Shits), [0], new type5_TShit());
	DIM(unref(global6_Enemys), [0], new type6_TEnemy());
	(global6_Player).Init(100, 100, 16, 32);
	param4_self.attr7_Tileset = GENSPRITE();
	param4_self.attr15_TilesetPath_Str = param11_Tileset_Str;
	LOADANIM(unref(param11_Tileset_Str), unref(param4_self.attr7_Tileset), 32, 32);
	if ((((INSTR(unref(param11_Tileset_Str), "snowtileset", 0)) != (-(1))) ? 1 : 0)) {
		param4_self.attr6_IsSnow = 1;
		
	};
	DIM(unref(param4_self.attr5_Datas), [param4_self.attr5_Width, param4_self.attr6_Height], 0);
	param4_self.attr6_HasFBO = CAST2INT(PLATFORMINFO_Str("GLEX:glBindFramebufferEXT"));
	if (param4_self.attr6_HasFBO) {
		param4_self.attr5_SprID = GENSPRITE();
		param4_self.attr13_IsRenderedFBO = 0;
		param4_self.attr8_ScreenID = 0;
		LOADSPRITE("", unref(param4_self.attr5_SprID));
		CREATESCREEN(unref(param4_self.attr8_ScreenID), unref(param4_self.attr5_SprID), CAST2INT(((CAST2FLOAT(param4_self.attr5_Width)) * (const8_Tilesize))), CAST2INT(((CAST2FLOAT(param4_self.attr6_Height)) * (const8_Tilesize))));
		
	};
	return 0;
	
};
function method10_type4_TMap_4_Init(param8_Name_Str, param4_self) {
	param8_Name_Str = unref(param8_Name_Str);
	param4_self = unref(param4_self);
	var local3_Chn = 0, local8_Line_Str_ref = [""], local11_Tileset_Str = "", local1_x = 0, local1_y = 0;
	local3_Chn = GENFILE();
	if ((((CAST2FLOAT(OPENFILE(unref(local3_Chn), unref(param8_Name_Str), 1))) == (0)) ? 1 : 0)) {
		END();
		
	};
	READLINE(unref(local3_Chn), local8_Line_Str_ref);
	param4_self.attr5_Width = INTEGER(unref(CAST2FLOAT(local8_Line_Str_ref[0])));
	READLINE(unref(local3_Chn), local8_Line_Str_ref);
	param4_self.attr6_Height = INTEGER(unref(CAST2FLOAT(local8_Line_Str_ref[0])));
	READLINE(unref(local3_Chn), local8_Line_Str_ref);
	local11_Tileset_Str = local8_Line_Str_ref[0];
	READLINE(unref(local3_Chn), local8_Line_Str_ref);
	param4_self.attr11_NextMap_Str = local8_Line_Str_ref[0];
	(param4_self).InitEmpty(param4_self.attr5_Width, param4_self.attr6_Height, local11_Tileset_Str);
	while ((((CAST2FLOAT(ENDOFFILE(unref(local3_Chn)))) == (0)) ? 1 : 0)) {
		var local9_Tiles_Str = new GLBArray();
		READLINE(unref(local3_Chn), local8_Line_Str_ref);
		SPLITSTR(unref(local8_Line_Str_ref[0]), unref(local9_Tiles_Str), ",", 1);
		local1_x = 0;
		var forEachSaver1820 = local9_Tiles_Str;
		for(var forEachCounter1820 = 0 ; forEachCounter1820 < forEachSaver1820.values.length ; forEachCounter1820++) {
			var local4_tile = forEachSaver1820.values[forEachCounter1820];
		{
				param4_self.attr5_Datas.arrAccess(local1_x, local1_y).values[tmpPositionCache] = func7_Convert(local4_tile);
				{
					var local16___SelectHelper9_ = 0;
					local16___SelectHelper9_ = param4_self.attr5_Datas.arrAccess(local1_x, local1_y).values[tmpPositionCache];
					if ((((local16___SelectHelper9_) == (4)) ? 1 : 0)) {
						global6_Player.attr1_X = ((CAST2FLOAT(local1_x)) * (const8_Tilesize));
						global6_Player.attr1_Y = ((CAST2FLOAT(local1_y)) * (const8_Tilesize));
						param4_self.attr6_SpawnX = CAST2INT(global6_Player.attr1_X);
						param4_self.attr6_SpawnY = CAST2INT(global6_Player.attr1_Y);
						param4_self.attr5_Datas.arrAccess(local1_x, local1_y).values[tmpPositionCache] = 0;
						
					} else if (((((((local16___SelectHelper9_) >= (6)) ? 1 : 0)) && ((((local16___SelectHelper9_) <= (9)) ? 1 : 0))) ? 1 : 0)) {
						var local3_Typ = 0.0, local5_Enemy = new type6_TEnemy();
						{
							var local17___SelectHelper10_ = 0;
							local17___SelectHelper10_ = param4_self.attr5_Datas.arrAccess(local1_x, local1_y).values[tmpPositionCache];
							if ((((local17___SelectHelper10_) == (6)) ? 1 : 0)) {
								local3_Typ = const6_IS_PIG;
								
							} else if ((((local17___SelectHelper10_) == (7)) ? 1 : 0)) {
								local3_Typ = const8_IS_HUMAN;
								
							} else if ((((local17___SelectHelper10_) == (8)) ? 1 : 0)) {
								local3_Typ = const7_IS_BIRD;
								
							} else if ((((local17___SelectHelper10_) == (9)) ? 1 : 0)) {
								local3_Typ = const8_IS_LLAMA;
								
							};
							
						};
						(local5_Enemy).Init(CAST2INT(local3_Typ), ((CAST2FLOAT(local1_x)) * (const8_Tilesize)), ((CAST2FLOAT(local1_y)) * (const8_Tilesize)));
						param4_self.attr5_Datas.arrAccess(local1_x, local1_y).values[tmpPositionCache] = 0;
						
					};
					
				};
				local1_x+=1;
				
			}
			forEachSaver1820.values[forEachCounter1820] = local4_tile;
		
		};
		local1_y+=1;
		
	};
	CLOSEFILE(unref(local3_Chn));
	return 0;
	
};
function method10_type4_TMap_6_Update(param4_self) {
	param4_self = unref(param4_self);
	if (param4_self.attr8_SpikeDir) {
		param4_self.attr13_SpikePosition+=-(0.5);
		if ((((param4_self.attr13_SpikePosition) <= (0)) ? 1 : 0)) {
			param4_self.attr13_SpikePosition = 0;
			param4_self.attr8_SpikeDir = 0;
			
		};
		
	} else {
		param4_self.attr13_SpikePosition+=0.5;
		if ((((param4_self.attr13_SpikePosition) >= (const8_Tilesize)) ? 1 : 0)) {
			param4_self.attr8_SpikeDir = 1;
			param4_self.attr13_SpikePosition = const8_Tilesize;
			
		};
		
	};
	return 0;
	
};
function method10_type4_TMap_6_Render(param4_self) {
	param4_self = unref(param4_self);
	var local10_TmpScrollX = 0.0, local10_TmpScrollY = 0.0;
	local10_TmpScrollX = param4_self.attr7_ScrollX;
	local10_TmpScrollY = param4_self.attr7_ScrollY;
	if (((((((CAST2FLOAT(param4_self.attr13_IsRenderedFBO)) == (0)) ? 1 : 0)) && (param4_self.attr6_HasFBO)) ? 1 : 0)) {
		USESCREEN(unref(param4_self.attr8_ScreenID));
		DRAWRECT(0, 0, ((CAST2FLOAT(param4_self.attr5_Width)) * (const8_Tilesize)), ((CAST2FLOAT(param4_self.attr6_Height)) * (const8_Tilesize)), RGB(255, 0, 128));
		param4_self.attr7_ScrollX = 0;
		param4_self.attr7_ScrollY = 0;
		
	};
	if (((((((CAST2FLOAT(param4_self.attr6_HasFBO)) == (0)) ? 1 : 0)) || ((((CAST2FLOAT(param4_self.attr13_IsRenderedFBO)) == (0)) ? 1 : 0))) ? 1 : 0)) {
		var local5_width_ref = [0.0], local6_height_ref = [0.0], local2_sx = 0.0, local2_sy = 0.0, local1_x = 0.0;
		GETSCREENSIZE(local5_width_ref, local6_height_ref);
		local5_width_ref[0] = CAST2FLOAT(((INTEGER(((local5_width_ref[0]) / (const8_Tilesize)))) + (1)));
		local6_height_ref[0] = CAST2FLOAT(((INTEGER(((local6_height_ref[0]) / (const8_Tilesize)))) + (1)));
		local2_sx = CAST2FLOAT(((-(INTEGER(((param4_self.attr7_ScrollX) / (const8_Tilesize))))) - (1)));
		local2_sy = CAST2FLOAT(((-(INTEGER(((param4_self.attr7_ScrollY) / (const8_Tilesize))))) - (1)));
		for (local1_x = local2_sx;forCheck(local1_x, ((local2_sx) + (local5_width_ref[0])), 1);local1_x += 1) {
			var local1_y = 0.0;
			for (local1_y = local2_sy;forCheck(local1_y, ((local2_sy) + (local6_height_ref[0])), 1);local1_y += 1) {
				if (((((((((((((local1_x) >= (0)) ? 1 : 0)) && ((((local1_y) >= (0)) ? 1 : 0))) ? 1 : 0)) && ((((local1_x) < (CAST2FLOAT(param4_self.attr5_Width))) ? 1 : 0))) ? 1 : 0)) && ((((local1_y) < (CAST2FLOAT(param4_self.attr6_Height))) ? 1 : 0))) ? 1 : 0)) {
					if ((((param4_self.attr5_Datas.arrAccess(local1_x, local1_y).values[tmpPositionCache]) != (1)) ? 1 : 0)) {
						(param4_self).RenderTile(param4_self.attr5_Datas.arrAccess(local1_x, local1_y).values[tmpPositionCache], local1_x, local1_y, 0);
						
					};
					
				};
				
			};
			
		};
		STARTPOLY(unref(param4_self.attr7_Tileset), 2);
		for (local1_x = local2_sx;forCheck(local1_x, ((local2_sx) + (local5_width_ref[0])), 1);local1_x += 1) {
			var local1_y = 0.0;
			for (local1_y = local2_sy;forCheck(local1_y, ((local2_sy) + (local6_height_ref[0])), 1);local1_y += 1) {
				if (((((((((((((local1_x) >= (0)) ? 1 : 0)) && ((((local1_y) >= (0)) ? 1 : 0))) ? 1 : 0)) && ((((local1_x) < (CAST2FLOAT(param4_self.attr5_Width))) ? 1 : 0))) ? 1 : 0)) && ((((local1_y) < (CAST2FLOAT(param4_self.attr6_Height))) ? 1 : 0))) ? 1 : 0)) {
					if ((((param4_self.attr5_Datas.arrAccess(local1_x, local1_y).values[tmpPositionCache]) == (1)) ? 1 : 0)) {
						(param4_self).RenderTile(param4_self.attr5_Datas.arrAccess(local1_x, local1_y).values[tmpPositionCache], local1_x, local1_y, 1);
						
					};
					
				};
				
			};
			
		};
		ENDPOLY();
		
	};
	if (((((((CAST2FLOAT(param4_self.attr13_IsRenderedFBO)) == (0)) ? 1 : 0)) && (param4_self.attr6_HasFBO)) ? 1 : 0)) {
		USESCREEN(-(1));
		param4_self.attr13_IsRenderedFBO = 1;
		param4_self.attr7_ScrollX = local10_TmpScrollX;
		param4_self.attr7_ScrollY = local10_TmpScrollY;
		
	};
	if (param4_self.attr13_IsRenderedFBO) {
		DRAWSPRITE(unref(param4_self.attr5_SprID), unref(param4_self.attr7_ScrollX), unref(param4_self.attr7_ScrollY));
		
	};
	return 0;
	
};
function method10_type4_TMap_10_RenderTile(param4_Tile, param1_x, param1_y, param6_IsPoly, param4_self) {
	param4_Tile = unref(param4_Tile);
	param1_x = unref(param1_x);
	param1_y = unref(param1_y);
	param6_IsPoly = unref(param6_IsPoly);
	param4_self = unref(param4_self);
	if (((CAST2FLOAT(((((((((((((param1_x) >= (0)) ? 1 : 0)) && ((((param1_y) >= (0)) ? 1 : 0))) ? 1 : 0)) && ((((param1_x) < (CAST2FLOAT(global3_Map.attr5_Width))) ? 1 : 0))) ? 1 : 0)) && ((((param1_y) < (CAST2FLOAT(global3_Map.attr6_Height))) ? 1 : 0))) ? 1 : 0))) ? 0 : 1)) {
		return 0;
		
	};
	{
		var local17___SelectHelper11_ = 0;
		local17___SelectHelper11_ = param4_Tile;
		if ((((local17___SelectHelper11_) == (1)) ? 1 : 0)) {
			var local4_Tile = 0;
			if ((((((((((param1_y) == (0)) ? 1 : 0)) || (func15_IsCollisionTile(param4_self.attr5_Datas.arrAccess(param1_x, ((param1_y) - (1))).values[tmpPositionCache]))) ? 1 : 0)) && (((((((param1_x) == (0)) ? 1 : 0)) || (func15_IsCollisionTile(param4_self.attr5_Datas.arrAccess(((param1_x) - (1)), param1_y).values[tmpPositionCache]))) ? 1 : 0))) ? 1 : 0)) {
				if ((((((((((param1_y) == (0)) ? 1 : 0)) || (func15_IsCollisionTile(param4_self.attr5_Datas.arrAccess(param1_x, ((param1_y) - (1))).values[tmpPositionCache]))) ? 1 : 0)) && (((((((param1_x) == (CAST2FLOAT(((param4_self.attr5_Width) - (1))))) ? 1 : 0)) || (func15_IsCollisionTile(param4_self.attr5_Datas.arrAccess(((param1_x) + (1)), param1_y).values[tmpPositionCache]))) ? 1 : 0))) ? 1 : 0)) {
					local4_Tile = 1;
					
				} else {
					local4_Tile = 2;
					
				};
				
			} else if ((((((((((param1_y) == (0)) ? 1 : 0)) || (func15_IsCollisionTile(param4_self.attr5_Datas.arrAccess(param1_x, ((param1_y) - (1))).values[tmpPositionCache]))) ? 1 : 0)) && (((((((param1_x) == (CAST2FLOAT(((param4_self.attr5_Width) - (1))))) ? 1 : 0)) || ((((param4_self.attr5_Datas.arrAccess(((param1_x) + (1)), param1_y).values[tmpPositionCache]) == (0)) ? 1 : 0))) ? 1 : 0))) ? 1 : 0)) {
				local4_Tile = 3;
				
			} else if (((((((param1_y) == (0)) ? 1 : 0)) || (func15_IsCollisionTile(param4_self.attr5_Datas.arrAccess(param1_x, ((param1_y) - (1))).values[tmpPositionCache]))) ? 1 : 0)) {
				local4_Tile = 1;
				
			} else {
				local4_Tile = 0;
				
			};
			if ((((CAST2FLOAT(param6_IsPoly)) == (0)) ? 1 : 0)) {
				DRAWANIM(unref(param4_self.attr7_Tileset), unref(local4_Tile), ((((param1_x) * (const8_Tilesize))) + (param4_self.attr7_ScrollX)), ((((param1_y) * (const8_Tilesize))) + (param4_self.attr7_ScrollY)));
				
			} else {
				POLYVECTOR(((((param1_x) * (const8_Tilesize))) + (param4_self.attr7_ScrollX)), ((((((param1_y) * (const8_Tilesize))) + (param4_self.attr7_ScrollY))) - (1)), ((CAST2FLOAT(local4_Tile)) * (const8_Tilesize)), 0, CAST2FLOAT(RGB(255, 255, 255)));
				POLYVECTOR(((((((param1_x) * (const8_Tilesize))) + (param4_self.attr7_ScrollX))) + (const8_Tilesize)), ((((((param1_y) * (const8_Tilesize))) + (param4_self.attr7_ScrollY))) - (1)), ((CAST2FLOAT(((local4_Tile) + (1)))) * (const8_Tilesize)), 0, CAST2FLOAT(RGB(255, 255, 255)));
				POLYVECTOR(((((param1_x) * (const8_Tilesize))) + (param4_self.attr7_ScrollX)), ((((((((param1_y) * (const8_Tilesize))) + (param4_self.attr7_ScrollY))) + (const8_Tilesize))) - (1)), ((CAST2FLOAT(local4_Tile)) * (const8_Tilesize)), ((const8_Tilesize) - (1)), CAST2FLOAT(RGB(255, 255, 255)));
				POLYVECTOR(((((((param1_x) * (const8_Tilesize))) + (param4_self.attr7_ScrollX))) + (const8_Tilesize)), ((((((((param1_y) * (const8_Tilesize))) + (param4_self.attr7_ScrollY))) + (const8_Tilesize))) - (1)), ((CAST2FLOAT(((local4_Tile) + (1)))) * (const8_Tilesize)), ((const8_Tilesize) - (1)), CAST2FLOAT(RGB(255, 255, 255)));
				POLYNEWSTRIP();
				
			};
			
		} else if ((((local17___SelectHelper11_) == (2)) ? 1 : 0)) {
			DRAWSPRITE(unref(global11_LadderImage), ((((param1_x) * (const8_Tilesize))) + (param4_self.attr7_ScrollX)), ((((param1_y) * (const8_Tilesize))) + (param4_self.attr7_ScrollY)));
			
		} else if ((((local17___SelectHelper11_) == (3)) ? 1 : 0)) {
			DRAWSPRITE(unref(global10_SpikeImage), ((((param1_x) * (const8_Tilesize))) + (param4_self.attr7_ScrollX)), ((((((param1_y) * (const8_Tilesize))) + (param4_self.attr7_ScrollY))) + (param4_self.attr13_SpikePosition)));
			
		} else if ((((local17___SelectHelper11_) == (4)) ? 1 : 0)) {
			
		} else if ((((local17___SelectHelper11_) == (5)) ? 1 : 0)) {
			DRAWSPRITE(unref(global15_TrampolineImage), ((((param1_x) * (const8_Tilesize))) + (param4_self.attr7_ScrollX)), ((((((param1_y) * (const8_Tilesize))) + (param4_self.attr7_ScrollY))) + (16)));
			
		} else if ((((local17___SelectHelper11_) == (10)) ? 1 : 0)) {
			DRAWSPRITE(unref(global9_DoorImage), ((((param1_x) * (const8_Tilesize))) + (param4_self.attr7_ScrollX)), ((((param1_y) * (const8_Tilesize))) + (param4_self.attr7_ScrollY)));
			
		} else if ((((local17___SelectHelper11_) == (11)) ? 1 : 0)) {
			DRAWSPRITE(unref(global12_DynamitImage), ((((param1_x) * (const8_Tilesize))) + (param4_self.attr7_ScrollX)), ((((param1_y) * (const8_Tilesize))) + (param4_self.attr7_ScrollY)));
			
		} else if ((((local17___SelectHelper11_) == (12)) ? 1 : 0)) {
			DRAWANIM(unref(global12_TriggerImage), 0, ((((param1_x) * (const8_Tilesize))) + (param4_self.attr7_ScrollX)), ((((((param1_y) * (const8_Tilesize))) + (param4_self.attr7_ScrollY))) + (((const8_Tilesize) / (2)))));
			
		} else if ((((local17___SelectHelper11_) == (13)) ? 1 : 0)) {
			DRAWANIM(unref(global12_TriggerImage), 1, ((((param1_x) * (const8_Tilesize))) + (param4_self.attr7_ScrollX)), ((((((param1_y) * (const8_Tilesize))) + (param4_self.attr7_ScrollY))) + (((const8_Tilesize) / (2)))));
			
		};
		
	};
	return 0;
	
};
function method10_type4_TMap_8_PickTile(param1_X, param1_Y, param4_self) {
	param1_X = unref(param1_X);
	param1_Y = unref(param1_Y);
	param4_self = unref(param4_self);
	if (((((((((((((param1_X) >= (0)) ? 1 : 0)) && ((((param1_Y) >= (0)) ? 1 : 0))) ? 1 : 0)) && ((((param1_X) < (((CAST2FLOAT(param4_self.attr5_Width)) * (const8_Tilesize)))) ? 1 : 0))) ? 1 : 0)) && ((((param1_Y) < (((CAST2FLOAT(param4_self.attr6_Height)) * (const8_Tilesize)))) ? 1 : 0))) ? 1 : 0)) {
		param1_X = CAST2FLOAT(INTEGER(((param1_X) / (const8_Tilesize))));
		param1_Y = CAST2FLOAT(INTEGER(((param1_Y) / (const8_Tilesize))));
		param4_self.attr9_LastPickX = CAST2INT(param1_X);
		param4_self.attr9_LastPickY = CAST2INT(param1_Y);
		return tryClone(unref(CAST2FLOAT(param4_self.attr5_Datas.arrAccess(param1_X, param1_Y).values[tmpPositionCache])));
		
	} else {
		return tryClone(0);
		
	};
	return 0;
	
};
function method10_type4_TMap_10_RemoveTile(param1_X, param1_Y, param4_self) {
	param1_X = unref(param1_X);
	param1_Y = unref(param1_Y);
	param4_self = unref(param4_self);
	if (((((((((((((param1_X) >= (0)) ? 1 : 0)) && ((((param1_Y) >= (0)) ? 1 : 0))) ? 1 : 0)) && ((((param1_X) < (CAST2FLOAT(global3_Map.attr5_Width))) ? 1 : 0))) ? 1 : 0)) && ((((param1_Y) < (CAST2FLOAT(global3_Map.attr6_Height))) ? 1 : 0))) ? 1 : 0)) {
		param4_self.attr5_Datas.arrAccess(param1_X, param1_Y).values[tmpPositionCache] = 0;
		param4_self.attr13_IsRenderedFBO = 0;
		
	};
	return 0;
	
};
function method10_type4_TMap_14_CollisionPoint(param1_X, param1_Y, param4_self) {
	param1_X = unref(param1_X);
	param1_Y = unref(param1_Y);
	param4_self = unref(param4_self);
	var local4_TmpY = 0.0;
	local4_TmpY = param1_Y;
	if (((((((((((((param1_X) >= (0)) ? 1 : 0)) && ((((param1_Y) >= (0)) ? 1 : 0))) ? 1 : 0)) && ((((param1_X) < (((CAST2FLOAT(param4_self.attr5_Width)) * (const8_Tilesize)))) ? 1 : 0))) ? 1 : 0)) && ((((param1_Y) < (((CAST2FLOAT(param4_self.attr6_Height)) * (const8_Tilesize)))) ? 1 : 0))) ? 1 : 0)) {
		param1_X = CAST2FLOAT(INTEGER(((param1_X) / (const8_Tilesize))));
		param1_Y = CAST2FLOAT(INTEGER(((param1_Y) / (const8_Tilesize))));
		if ((((CAST2FLOAT(func15_IsCollisionTile(param4_self.attr5_Datas.arrAccess(param1_X, param1_Y).values[tmpPositionCache]))) == (0)) ? 1 : 0)) {
			if ((((((((((param4_self.attr5_Datas.arrAccess(param1_X, param1_Y).values[tmpPositionCache]) == (5)) ? 1 : 0)) || ((((param4_self.attr5_Datas.arrAccess(param1_X, param1_Y).values[tmpPositionCache]) == (12)) ? 1 : 0))) ? 1 : 0)) || ((((param4_self.attr5_Datas.arrAccess(param1_X, param1_Y).values[tmpPositionCache]) == (13)) ? 1 : 0))) ? 1 : 0)) {
				if ((((MOD(unref(CAST2INT(local4_TmpY)), 32)) > (16)) ? 1 : 0)) {
					return 1;
					
				} else {
					return tryClone(0);
					
				};
				
			};
			return 1;
			
		} else {
			return tryClone(0);
			
		};
		
	} else {
		return tryClone(0);
		
	};
	return 0;
	
};
function method10_type4_TMap_12_RayCollision(param2_X1, param2_Y1, param2_X2, param2_Y2, param4_self) {
	param2_X1 = unref(param2_X1);
	param2_Y1 = unref(param2_Y1);
	param2_X2 = unref(param2_X2);
	param2_Y2 = unref(param2_Y2);
	param4_self = unref(param4_self);
	var local6_Length = 0.0, local6_DeltaX = 0.0, local6_DeltaY = 0.0, local1_i = 0.0;
	local6_Length = SQR(((((((((param2_X1) * (param2_X1))) + (((param2_Y1) * (param2_Y1))))) + (((param2_X2) * (param2_X2))))) + (((param2_Y2) * (param2_Y2)))));
	local6_DeltaX = ((((param2_X1) - (param2_X2))) / (local6_Length));
	local6_DeltaY = ((((param2_Y1) - (param2_Y2))) / (local6_Length));
	for (local1_i = 0;forCheck(local1_i, local6_Length, 1);local1_i += 1) {
		if ((param4_self).CollisionPoint(((param2_X1) - (((local6_DeltaX) * (local1_i)))), ((param2_Y1) - (((local6_DeltaY) * (local1_i)))))) {
			return tryClone(1);
			
		};
		
	};
	return 0;
	return 0;
	
};
function method10_type4_TMap_9_Collision(param1_X, param1_Y, param5_Width, param6_Height, param4_self) {
	param1_X = unref(param1_X);
	param1_Y = unref(param1_Y);
	param5_Width = unref(param5_Width);
	param6_Height = unref(param6_Height);
	param4_self = unref(param4_self);
	var local2_XX = 0.0;
	for (local2_XX = param1_X;forCheck(local2_XX, ((param1_X) + (CAST2FLOAT(param4_self.attr5_Width))), 4);local2_XX += 4) {
		var local2_YY = 0.0;
		for (local2_YY = param1_Y;forCheck(local2_YY, ((param1_Y) + (CAST2FLOAT(param4_self.attr6_Height))), 4);local2_YY += 4) {
			if ((param4_self).CollisionPoint(local2_XX, local2_YY)) {
				return 1;
				
			};
			
		};
		
	};
	if (((((((((((param4_self).CollisionPoint(param1_X, param1_Y)) || ((param4_self).CollisionPoint(((param1_X) + (param5_Width)), param1_Y))) ? 1 : 0)) || ((param4_self).CollisionPoint(param1_X, ((param1_Y) + (param6_Height))))) ? 1 : 0)) || ((param4_self).CollisionPoint(((param1_X) + (param5_Width)), ((param1_Y) + (param6_Height))))) ? 1 : 0)) {
		return 1;
		
	} else {
		return tryClone(0);
		
	};
	return 0;
	
};
function func15_IsCollisionTile(param3_Typ) {
	param3_Typ = unref(param3_Typ);
	if (((((((((((((param3_Typ) == (0)) ? 1 : 0)) || ((((param3_Typ) == (2)) ? 1 : 0))) ? 1 : 0)) || ((((param3_Typ) == (3)) ? 1 : 0))) ? 1 : 0)) || ((((param3_Typ) == (10)) ? 1 : 0))) ? 1 : 0)) {
		return 1;
		
	} else {
		return tryClone(0);
		
	};
	return 0;
	
};
function func7_Convert(param8_Text_Str) {
	param8_Text_Str = unref(param8_Text_Str);
	{
		var local17___SelectHelper12_ = "";
		local17___SelectHelper12_ = param8_Text_Str;
		if ((((local17___SelectHelper12_) == ("A")) ? 1 : 0)) {
			return 10;
			
		} else if ((((local17___SelectHelper12_) == ("B")) ? 1 : 0)) {
			return 11;
			
		} else if ((((local17___SelectHelper12_) == ("C")) ? 1 : 0)) {
			return 12;
			
		} else {
			return tryClone(INTEGER(unref(CAST2FLOAT(param8_Text_Str))));
			
		};
		
	};
	return 0;
	
};
function method13_type7_TPlayer_4_Init(param1_X, param1_Y, param5_Width, param6_Height, param4_self) {
	param1_X = unref(param1_X);
	param1_Y = unref(param1_Y);
	param5_Width = unref(param5_Width);
	param6_Height = unref(param6_Height);
	param4_self = unref(param4_self);
	param4_self.attr1_X = param1_X;
	param4_self.attr1_Y = param1_Y;
	param4_self.attr2_VX = 0;
	param4_self.attr2_VY = 0;
	param4_self.attr5_Width = param5_Width;
	param4_self.attr6_Height = param6_Height;
	return 0;
	
};
function method13_type7_TPlayer_6_Update(param4_self) {
	param4_self = unref(param4_self);
	var local8_ScrWidth_ref = [0.0], local9_ScrHeight_ref = [0.0], local4_OldX = 0.0, local4_OldY = 0.0;
	GETSCREENSIZE(local8_ScrWidth_ref, local9_ScrHeight_ref);
	param4_self.attr2_VY+=0.5;
	if ((((CAST2FLOAT(KEY(203))) || (func16_UpdateGameButton(42, ((local9_ScrHeight_ref[0]) - (42))))) ? 1 : 0)) {
		param4_self.attr2_VX+=-(1);
		
	};
	if ((((CAST2FLOAT(KEY(205))) || (func16_UpdateGameButton(((local8_ScrWidth_ref[0]) - (42)), ((local9_ScrHeight_ref[0]) - (42))))) ? 1 : 0)) {
		param4_self.attr2_VX+=1;
		
	};
	if ((((KEY(57)) || ((((func16_UpdateGameButton(42, ((local9_ScrHeight_ref[0]) - (125)))) || (func16_UpdateGameButton(((local8_ScrWidth_ref[0]) - (42)), ((local9_ScrHeight_ref[0]) - (125))))) ? 1 : 0))) ? 1 : 0)) {
		if (((((global3_Map).PickTile(((param4_self.attr1_X) + (CAST2FLOAT(((param4_self.attr5_Width) / (2))))), param4_self.attr1_Y)) == (2)) ? 1 : 0)) {
			param4_self.attr2_VY = 0;
			param4_self.attr1_Y+=-(4);
			while (((((global3_Map).PickTile(((param4_self.attr1_X) + (CAST2FLOAT(((param4_self.attr5_Width) / (2))))), param4_self.attr1_Y)) != (2)) ? 1 : 0)) {
				param4_self.attr1_Y+=1;
				
			};
			
		} else if (((((global3_Map).CollisionPoint(((param4_self.attr1_X) + (1)), ((((param4_self.attr1_Y) + (CAST2FLOAT(param4_self.attr6_Height)))) + (1)))) || ((global3_Map).CollisionPoint(((((param4_self.attr1_X) + (CAST2FLOAT(param4_self.attr5_Width)))) - (1)), ((((param4_self.attr1_Y) + (CAST2FLOAT(param4_self.attr6_Height)))) + (1))))) ? 1 : 0)) {
			param4_self.attr2_VY = CAST2FLOAT(-(8));
			
		};
		
	};
	if (((((global3_Map).PickTile(((param4_self.attr1_X) + (CAST2FLOAT(((param4_self.attr5_Width) / (2))))), ((param4_self.attr1_Y) + (CAST2FLOAT(((param4_self.attr6_Height) / (2))))))) == (10)) ? 1 : 0)) {
		if ((((global3_Map.attr11_NextMap_Str) == ("")) ? 1 : 0)) {
			END();
			
		} else {
			(global3_Map).Init(global3_Map.attr11_NextMap_Str);
			throw "GLBERR" + "Exit";
			
		};
		
	};
	param4_self.attr2_VX = ((param4_self.attr2_VX) * (((0.77) + (((CAST2FLOAT(global3_Map.attr6_IsSnow)) * (0.1))))));
	if ((((param4_self.attr2_VY) > (((const8_Tilesize) - (1)))) ? 1 : 0)) {
		param4_self.attr2_VY = ((const8_Tilesize) - (1));
		
	};
	if ((((param4_self.attr2_VY) < (((-(const8_Tilesize)) - (1)))) ? 1 : 0)) {
		param4_self.attr2_VY = ((-(const8_Tilesize)) - (1));
		
	};
	local4_OldX = param4_self.attr1_X;
	local4_OldY = param4_self.attr1_Y;
	param4_self.attr1_X+=CAST2INT(param4_self.attr2_VX);
	if ((global3_Map).Collision(((param4_self.attr1_X) + (1)), ((param4_self.attr1_Y) + (1)), CAST2FLOAT(((param4_self.attr5_Width) - (2))), CAST2FLOAT(((param4_self.attr6_Height) - (2))))) {
		param4_self.attr1_X = local4_OldX;
		
	};
	param4_self.attr1_Y+=CAST2INT(param4_self.attr2_VY);
	if ((global3_Map).Collision(((param4_self.attr1_X) + (1)), ((param4_self.attr1_Y) + (1)), CAST2FLOAT(((param4_self.attr5_Width) - (2))), CAST2FLOAT(((param4_self.attr6_Height) - (2))))) {
		param4_self.attr1_Y = local4_OldY;
		param4_self.attr2_VY = 0;
		
	};
	if ((((ABS(unref(param4_self.attr2_VX))) > (0.1)) ? 1 : 0)) {
		param4_self.attr4_Anim+=1;
		param4_self.attr4_Anim = MOD(unref(param4_self.attr4_Anim), 15);
		
	} else {
		param4_self.attr4_Anim = 13;
		
	};
	if ((((((((global3_Map).PickTile(((param4_self.attr1_X) + (4)), ((((((param4_self.attr1_Y) - (global3_Map.attr13_SpikePosition))) + (const8_Tilesize))) - (1)))) == (3)) ? 1 : 0)) || (((((global3_Map).PickTile(((((param4_self.attr1_X) + (CAST2FLOAT(param4_self.attr5_Width)))) - (4)), ((((((param4_self.attr1_Y) - (global3_Map.attr13_SpikePosition))) + (const8_Tilesize))) - (1)))) == (3)) ? 1 : 0))) ? 1 : 0)) {
		(param4_self).Reset();
		
	};
	if (((((((((((global3_Map).PickTile(((param4_self.attr1_X) + (2)), ((((((param4_self.attr1_Y) + (CAST2FLOAT(param4_self.attr6_Height)))) + (param4_self.attr2_VY))) - (16)))) == (5)) ? 1 : 0)) || (((((global3_Map).PickTile(((((param4_self.attr1_X) + (CAST2FLOAT(param4_self.attr5_Width)))) - (4)), ((((((param4_self.attr1_Y) + (CAST2FLOAT(param4_self.attr6_Height)))) + (param4_self.attr2_VY))) - (16)))) == (5)) ? 1 : 0))) ? 1 : 0)) && ((((ABS(unref(param4_self.attr2_VY))) > (0.25)) ? 1 : 0))) ? 1 : 0)) {
		param4_self.attr2_VY = ((-(param4_self.attr2_VY)) * (1.1));
		
	};
	if ((((((((global3_Map).PickTile(param4_self.attr1_X, ((((((param4_self.attr1_Y) + (CAST2FLOAT(param4_self.attr6_Height)))) + (param4_self.attr2_VY))) - (16)))) == (12)) ? 1 : 0)) || (((((global3_Map).PickTile(((((param4_self.attr1_X) + (CAST2FLOAT(param4_self.attr5_Width)))) - (4)), ((((((param4_self.attr1_Y) + (CAST2FLOAT(param4_self.attr6_Height)))) + (param4_self.attr2_VY))) - (16)))) == (12)) ? 1 : 0))) ? 1 : 0)) {
		var local8_LastPosX = 0.0, local8_LastPosY = 0.0, local4_Dist = 0.0, local1_x = 0.0;
		global3_Map.attr5_Datas.arrAccess(global3_Map.attr9_LastPickX, global3_Map.attr9_LastPickY).values[tmpPositionCache] = 13;
		global3_Map.attr13_IsRenderedFBO = 0;
		local4_Dist = CAST2FLOAT(-(1));
		for (local1_x = 0;forCheck(local1_x, CAST2FLOAT(((global3_Map.attr5_Width) - (1))), 1);local1_x += 1) {
			var local1_y = 0.0;
			for (local1_y = 0;forCheck(local1_y, CAST2FLOAT(((global3_Map.attr6_Height) - (1))), 1);local1_y += 1) {
				if ((((global3_Map.attr5_Datas.arrAccess(local1_x, local1_y).values[tmpPositionCache]) == (11)) ? 1 : 0)) {
					var local7_TmpDist = 0.0;
					local7_TmpDist = SQR(((((((local1_x) - (CAST2FLOAT(global3_Map.attr9_LastPickX)))) * (((local1_x) - (CAST2FLOAT(global3_Map.attr9_LastPickX)))))) + (((((local1_y) - (CAST2FLOAT(global3_Map.attr9_LastPickY)))) * (((local1_y) - (CAST2FLOAT(global3_Map.attr9_LastPickY))))))));
					if (((((((local4_Dist) == (CAST2FLOAT(-(1)))) ? 1 : 0)) || ((((local7_TmpDist) < (local4_Dist)) ? 1 : 0))) ? 1 : 0)) {
						local4_Dist = local7_TmpDist;
						local8_LastPosX = local1_x;
						local8_LastPosY = local1_y;
						
					};
					
				};
				
			};
			
		};
		if ((((local4_Dist) != (CAST2FLOAT(-(1)))) ? 1 : 0)) {
			var local2_X1 = 0.0, local2_Y1 = 0.0, local2_X2 = 0.0, local2_Y2 = 0.0, local5_Angle = 0.0, local4_Dist = 0.0;
			local2_Y1 = ((((local8_LastPosY) * (const8_Tilesize))) + (16));
			local2_Y1 = ((param4_self.attr1_Y) + (CAST2FLOAT(((param4_self.attr6_Height) / (2)))));
			local2_X1 = ((((local8_LastPosX) * (const8_Tilesize))) + (16));
			local2_X2 = ((param4_self.attr1_X) + (CAST2FLOAT(((param4_self.attr5_Width) / (2)))));
			local5_Angle = CAST2FLOAT(-(MOD(CAST2INT(((ATAN(((local2_Y1) - (local2_Y2)), ((local2_X1) - (local2_X2)))) + (180))), 360)));
			local4_Dist = SQR(((((((local2_X1) - (local2_X2))) * (((local2_X1) - (local2_X2))))) + (((((local2_Y1) - (local2_Y2))) * (((local2_Y1) - (local2_Y2)))))));
			if ((((local4_Dist) < (512)) ? 1 : 0)) {
				var local8_Strength = 0.0;
				local8_Strength = ((((256) / (((local4_Dist) + (1))))) * (16));
				param4_self.attr2_VX+=CAST2INT(((func4_QCOS(local5_Angle)) * (local8_Strength)));
				param4_self.attr2_VY+=CAST2INT(((func4_QSIN(local5_Angle)) * (local8_Strength)));
				
			};
			for (param4_self.attr1_X = CAST2FLOAT(-(1));forCheck(param4_self.attr1_X, 1, 1);param4_self.attr1_X += 1) {
				for (param4_self.attr1_Y = CAST2FLOAT(-(1));forCheck(param4_self.attr1_Y, 1, 1);param4_self.attr1_Y += 1) {
					var local2_XX = 0.0;
					(global3_Map).RemoveTile(((local8_LastPosX) + (param4_self.attr1_X)), ((local8_LastPosY) + (param4_self.attr1_Y)));
					for (local2_XX = -(0.5);forCheck(local2_XX, 0.5, 0.5);local2_XX += 0.5) {
						var local2_YY = 0.0;
						for (local2_YY = -(0.5);forCheck(local2_YY, 0.5, 0.5);local2_YY += 0.5) {
							if ((((INTEGER(RND(2))) > (1)) ? 1 : 0)) {
								var local3_Exp = new type10_TExplosion();
								(local3_Exp).Init(((((((local8_LastPosX) + (param4_self.attr1_X))) + (local2_XX))) * (const8_Tilesize)), ((((((local8_LastPosY) + (param4_self.attr1_Y))) + (local2_YY))) * (const8_Tilesize)));
								
							};
							
						};
						
					};
					
				};
				
			};
			var forEachSaver4049 = global6_Enemys;
			for(var forEachCounter4049 = 0 ; forEachCounter4049 < forEachSaver4049.values.length ; forEachCounter4049++) {
				var local5_Enemy = forEachSaver4049.values[forEachCounter4049];
			{
					if ((((SQR(((((((local5_Enemy.attr1_X) - (((local8_LastPosX) * (const8_Tilesize))))) * (((local5_Enemy.attr1_X) - (((local8_LastPosX) * (const8_Tilesize))))))) + (((local5_Enemy.attr1_Y) - (((local8_LastPosY) * (const8_Tilesize)))))))) < (const8_Tilesize)) ? 1 : 0)) {
						local5_Enemy.attr4_Fall = 1;
						
					};
					
				}
				forEachSaver4049.values[forEachCounter4049] = local5_Enemy;
			
			};
			
		};
		
	};
	var forEachSaver4179 = global6_Enemys;
	for(var forEachCounter4179 = 0 ; forEachCounter4179 < forEachSaver4179.values.length ; forEachCounter4179++) {
		var local5_Enemy = forEachSaver4179.values[forEachCounter4179];
	{
			if ((((CAST2FLOAT(local5_Enemy.attr4_Fall)) == (0)) ? 1 : 0)) {
				if (((((((CAST2FLOAT(BOXCOLL(CAST2INT(((param4_self.attr1_X) + (2))), CAST2INT(((param4_self.attr1_Y) + (2))), ((param4_self.attr5_Width) - (4)), ((param4_self.attr6_Height) + (4)), CAST2INT(((local5_Enemy.attr1_X) + (4))), CAST2INT(((local5_Enemy.attr1_Y) - (8))), CAST2INT(((local5_Enemy.attr5_Width) - (8))), 16))) && ((local5_Enemy).IsDestroyable())) ? 1 : 0)) && ((((param4_self.attr2_VY) != (0)) ? 1 : 0))) ? 1 : 0)) {
					local5_Enemy.attr4_Fall = 1;
					
				} else if (BOXCOLL(CAST2INT(((param4_self.attr1_X) + (2))), CAST2INT(((param4_self.attr1_Y) + (2))), ((param4_self.attr5_Width) - (4)), ((param4_self.attr6_Height) - (4)), CAST2INT(((local5_Enemy.attr1_X) + (2))), CAST2INT(((local5_Enemy.attr1_Y) + (2))), CAST2INT(((local5_Enemy.attr5_Width) - (4))), CAST2INT(((local5_Enemy.attr6_Height) - (4))))) {
					(param4_self).Reset();
					break;
					
				};
				
			};
			
		}
		forEachSaver4179.values[forEachCounter4179] = local5_Enemy;
	
	};
	var forEachSaver4219 = global5_Shits;
	for(var forEachCounter4219 = 0 ; forEachCounter4219 < forEachSaver4219.values.length ; forEachCounter4219++) {
		var local1_S = forEachSaver4219.values[forEachCounter4219];
	{
			if ((((BOXCOLL(unref(CAST2INT(param4_self.attr1_X)), unref(CAST2INT(param4_self.attr1_Y)), unref(param4_self.attr5_Width), unref(param4_self.attr6_Height), unref(CAST2INT(local1_S.attr1_X)), unref(CAST2INT(local1_S.attr1_Y)), 16, 16)) && ((((local1_S.attr2_VY) != (0)) ? 1 : 0))) ? 1 : 0)) {
				(param4_self).Reset();
				//DELETE!!111
				forEachSaver4219.values[forEachCounter4219] = local1_S;
				DIMDEL(forEachSaver4219, forEachCounter4219);
				forEachCounter4219--;
				continue;
				
			};
			
		}
		forEachSaver4219.values[forEachCounter4219] = local1_S;
	
	};
	var forEachSaver4259 = global5_Spits;
	for(var forEachCounter4259 = 0 ; forEachCounter4259 < forEachSaver4259.values.length ; forEachCounter4259++) {
		var local1_S = forEachSaver4259.values[forEachCounter4259];
	{
			if ((((BOXCOLL(unref(CAST2INT(param4_self.attr1_X)), unref(CAST2INT(param4_self.attr1_Y)), unref(param4_self.attr5_Width), unref(param4_self.attr6_Height), unref(CAST2INT(local1_S.attr1_X)), unref(CAST2INT(local1_S.attr1_Y)), 8, 8)) && ((((local1_S.attr2_VY) != (0)) ? 1 : 0))) ? 1 : 0)) {
				(param4_self).Reset();
				//DELETE!!111
				forEachSaver4259.values[forEachCounter4259] = local1_S;
				DIMDEL(forEachSaver4259, forEachCounter4259);
				forEachCounter4259--;
				continue;
				
			};
			
		}
		forEachSaver4259.values[forEachCounter4259] = local1_S;
	
	};
	if ((((((param4_self.attr1_Y) - (CAST2FLOAT(((param4_self.attr6_Height) * (2)))))) > (((CAST2FLOAT(global3_Map.attr6_Height)) * (const8_Tilesize)))) ? 1 : 0)) {
		(param4_self).Reset();
		
	};
	global3_Map.attr7_ScrollX = ((((-(param4_self.attr1_X)) + (((local8_ScrWidth_ref[0]) / (2))))) + (CAST2FLOAT(((param4_self.attr5_Width) / (2)))));
	global3_Map.attr7_ScrollY = ((((-(param4_self.attr1_Y)) + (((local9_ScrHeight_ref[0]) / (2))))) + (CAST2FLOAT(((param4_self.attr6_Height) / (2)))));
	return 0;
	
};
function method13_type7_TPlayer_6_Render(param4_self) {
	param4_self = unref(param4_self);
	var local7_CurAnim = 0, local3_Dir = 0;
	if ((((param4_self.attr4_Anim) > (10)) ? 1 : 0)) {
		local7_CurAnim = 0;
		
	} else if ((((param4_self.attr4_Anim) > (5)) ? 1 : 0)) {
		local7_CurAnim = 1;
		
	} else {
		local7_CurAnim = 2;
		
	};
	if ((((param4_self.attr2_VX) < (0)) ? 1 : 0)) {
		local3_Dir = 1;
		
	} else {
		local3_Dir = 0;
		
	};
	func9_TurnImage(global11_PlayerImage, local7_CurAnim, local3_Dir, ((param4_self.attr1_X) + (1)), param4_self.attr1_Y, 6);
	return 0;
	
};
function method13_type7_TPlayer_5_Reset(param4_self) {
	param4_self = unref(param4_self);
	param4_self.attr1_X = CAST2FLOAT(global3_Map.attr6_SpawnX);
	param4_self.attr1_Y = CAST2FLOAT(global3_Map.attr6_SpawnY);
	param4_self.attr2_VX = 0;
	param4_self.attr2_VY = 0;
	return 0;
	
};
function func9_TurnImage(param3_Img, param5_Frame, param3_Dir, param1_X, param1_Y, param8_MaxFrame) {
	param3_Img = unref(param3_Img);
	param5_Frame = unref(param5_Frame);
	param3_Dir = unref(param3_Dir);
	param1_X = unref(param1_X);
	param1_Y = unref(param1_Y);
	param8_MaxFrame = unref(param8_MaxFrame);
	if (param3_Dir) {
		param5_Frame = ((((param8_MaxFrame) - (1))) - (param5_Frame));
		
	};
	DRAWANIM(unref(param3_Img), unref(param5_Frame), ((param1_X) + (global3_Map.attr7_ScrollX)), ((param1_Y) + (global3_Map.attr7_ScrollY)));
	return 0;
	
};
function func4_QSIN(param1_x) {
	param1_x = unref(param1_x);
	return tryClone(SIN(unref(param1_x)));
	return 0;
	
};
function func4_QCOS(param1_x) {
	param1_x = unref(param1_x);
	return tryClone(COS(unref(param1_x)));
	return 0;
	
};
function method11_type5_TShit_6_Render(param4_self) {
	param4_self = unref(param4_self);
	DRAWSPRITE(unref(global9_ShitImage), ((param4_self.attr1_X) + (global3_Map.attr7_ScrollX)), ((param4_self.attr1_Y) + (global3_Map.attr7_ScrollY)));
	return 0;
	
};
function method11_type5_TShit_6_Update(param4_self) {
	param4_self = unref(param4_self);
	if ((((param4_self.attr3_Age) > (149)) ? 1 : 0)) {
		param4_self.attr3_Del = 1;
		
	};
	if ((((param4_self.attr1_Y) > (((((CAST2FLOAT(global3_Map.attr6_Height)) * (const8_Tilesize))) + (((const8_Tilesize) * (20)))))) ? 1 : 0)) {
		param4_self.attr3_Del = 1;
		
	};
	if ((global3_Map).CollisionPoint(((param4_self.attr1_X) + (8)), ((((param4_self.attr1_Y) + (param4_self.attr2_VY))) + (16)))) {
		while ((((CAST2FLOAT((global3_Map).CollisionPoint(((param4_self.attr1_X) + (8)), ((param4_self.attr1_Y) + (16))))) == (0)) ? 1 : 0)) {
			param4_self.attr1_Y+=1;
			
		};
		param4_self.attr2_VY = 0;
		param4_self.attr3_Age+=1;
		
	} else {
		param4_self.attr2_VY+=1;
		
	};
	param4_self.attr2_VY = CAST2FLOAT(MIN(unref(param4_self.attr2_VY), 8));
	param4_self.attr1_Y+=CAST2INT(param4_self.attr2_VY);
	return 0;
	
};
function method11_type5_TShit_4_Init(param1_X, param1_Y, param4_self) {
	param1_X = unref(param1_X);
	param1_Y = unref(param1_Y);
	param4_self = unref(param4_self);
	param4_self.attr1_X = param1_X;
	param4_self.attr1_Y = param1_Y;
	param4_self.attr2_VY = 1;
	DIMPUSH(global5_Shits, param4_self);
	return 0;
	
};
function method11_type5_TSpit_6_Update(param4_self) {
	param4_self = unref(param4_self);
	var local4_OldX = 0.0, local4_OldY = 0.0;
	param4_self.attr2_VX = ((param4_self.attr2_VX) * (0.99));
	param4_self.attr2_VY+=0.1;
	param4_self.attr3_Age+=1;
	if ((((param4_self.attr3_Age) > (149)) ? 1 : 0)) {
		param4_self.attr3_Del = 1;
		
	};
	local4_OldX = param4_self.attr1_X;
	local4_OldY = param4_self.attr1_Y;
	param4_self.attr1_X+=CAST2INT(param4_self.attr2_VX);
	if ((global3_Map).Collision(param4_self.attr1_X, param4_self.attr1_Y, 8, 8)) {
		param4_self.attr2_VX = -(param4_self.attr2_VX);
		param4_self.attr1_X = local4_OldX;
		
	};
	param4_self.attr1_Y+=CAST2INT(param4_self.attr2_VY);
	if ((global3_Map).Collision(param4_self.attr1_X, param4_self.attr1_Y, 8, 8)) {
		param4_self.attr2_VY = -(param4_self.attr2_VY);
		param4_self.attr1_Y = local4_OldY;
		
	};
	return 0;
	
};
function method11_type5_TSpit_6_Render(param4_self) {
	param4_self = unref(param4_self);
	DRAWSPRITE(unref(global9_SpitImage), ((param4_self.attr1_X) + (global3_Map.attr7_ScrollX)), ((param4_self.attr1_Y) + (global3_Map.attr7_ScrollY)));
	return 0;
	
};
function method11_type5_TSpit_4_Init(param1_X, param1_Y, param4_DirX, param4_DirY, param4_self) {
	param1_X = unref(param1_X);
	param1_Y = unref(param1_Y);
	param4_DirX = unref(param4_DirX);
	param4_DirY = unref(param4_DirY);
	param4_self = unref(param4_self);
	param4_self.attr1_X = param1_X;
	param4_self.attr1_Y = param1_Y;
	param4_self.attr2_VX = param4_DirX;
	param4_self.attr2_VY = param4_DirY;
	DIMPUSH(global5_Spits, param4_self);
	return 0;
	
};
/**
* @constructor
*/
function type6_TEnemy() {
	var selfVar = this;
	this.attr3_Typ = 0;
	this.attr1_X = 0.0;
	this.attr1_Y = 0.0;
	this.attr2_VX = 0.0;
	this.attr2_VY = 0.0;
	this.attr5_Width = 0.0;
	this.attr6_Height = 0.0;
	this.attr4_Anim = 0;
	this.attr4_Fall = 0;
	this.attr12_EventCounter = 0;
	this.Update = function() { return (method12_type6_TEnemy_6_Update) ? (method12_type6_TEnemy_6_Update(selfVar)) : throwError("Cannot find method implementation of method 'Update' of type 'type6_TEnemy'"); };
	this.Render = function() { return (method12_type6_TEnemy_6_Render) ? (method12_type6_TEnemy_6_Render(selfVar)) : throwError("Cannot find method implementation of method 'Render' of type 'type6_TEnemy'"); };
	this.Init = function() { return (method12_type6_TEnemy_4_Init) ? (method12_type6_TEnemy_4_Init(arguments[0], arguments[1], arguments[2], selfVar)) : throwError("Cannot find method implementation of method 'Init' of type 'type6_TEnemy'"); };
	this.IsDestroyable = function() { return (method12_type6_TEnemy_13_IsDestroyable) ? (method12_type6_TEnemy_13_IsDestroyable(selfVar)) : throwError("Cannot find method implementation of method 'IsDestroyable' of type 'type6_TEnemy'"); };
	this.ToString_Str = function() { return (method13_type7_TObject_12_ToString_Str) ? (method13_type7_TObject_12_ToString_Str(selfVar)) : throwError("Cannot find method implementation of method 'ToString_Str' of type 'type6_TEnemy'"); };
	this.clone = function() {
		var other = new type6_TEnemy();
		other.attr3_Typ = tryClone(this.attr3_Typ);
		other.attr1_X = tryClone(this.attr1_X);
		other.attr1_Y = tryClone(this.attr1_Y);
		other.attr2_VX = tryClone(this.attr2_VX);
		other.attr2_VY = tryClone(this.attr2_VY);
		other.attr5_Width = tryClone(this.attr5_Width);
		other.attr6_Height = tryClone(this.attr6_Height);
		other.attr4_Anim = tryClone(this.attr4_Anim);
		other.attr4_Fall = tryClone(this.attr4_Fall);
		other.attr12_EventCounter = tryClone(this.attr12_EventCounter);
		return other;
	};
	return this;
	
};
/**
* @constructor
*/
function type10_TExplosion() {
	var selfVar = this;
	this.attr1_X = 0.0;
	this.attr1_Y = 0.0;
	this.attr4_Anim = 0;
	this.attr3_Del = 0;
	this.Update = function() { return (method17_type10_TExplosion_6_Update) ? (method17_type10_TExplosion_6_Update(selfVar)) : throwError("Cannot find method implementation of method 'Update' of type 'type10_TExplosion'"); };
	this.Render = function() { return (method17_type10_TExplosion_6_Render) ? (method17_type10_TExplosion_6_Render(selfVar)) : throwError("Cannot find method implementation of method 'Render' of type 'type10_TExplosion'"); };
	this.Init = function() { return (method17_type10_TExplosion_4_Init) ? (method17_type10_TExplosion_4_Init(arguments[0], arguments[1], selfVar)) : throwError("Cannot find method implementation of method 'Init' of type 'type10_TExplosion'"); };
	this.ToString_Str = function() { return (method13_type7_TObject_12_ToString_Str) ? (method13_type7_TObject_12_ToString_Str(selfVar)) : throwError("Cannot find method implementation of method 'ToString_Str' of type 'type10_TExplosion'"); };
	this.clone = function() {
		var other = new type10_TExplosion();
		other.attr1_X = tryClone(this.attr1_X);
		other.attr1_Y = tryClone(this.attr1_Y);
		other.attr4_Anim = tryClone(this.attr4_Anim);
		other.attr3_Del = tryClone(this.attr3_Del);
		return other;
	};
	return this;
	
};
/**
* @constructor
*/
function type4_TMap() {
	var selfVar = this;
	this.attr6_IsSnow = 0;
	this.attr5_Datas = new GLBArray();
	this.attr5_Width = 0;
	this.attr6_Height = 0;
	this.attr7_ScrollX = 0.0;
	this.attr7_ScrollY = 0.0;
	this.attr7_Tileset = 0;
	this.attr15_TilesetPath_Str = "";
	this.attr13_SpikePosition = 0.0;
	this.attr8_SpikeDir = 0;
	this.attr6_SpawnX = 0;
	this.attr6_SpawnY = 0;
	this.attr11_NextMap_Str = "";
	this.attr9_LastPickX = 0;
	this.attr9_LastPickY = 0;
	this.attr6_HasFBO = 0;
	this.attr13_IsRenderedFBO = 0;
	this.attr8_ScreenID = 0;
	this.attr5_SprID = 0;
	this.attr11_NextMap_Str = "";
	this.InitEmpty = function() { return (method10_type4_TMap_9_InitEmpty) ? (method10_type4_TMap_9_InitEmpty(arguments[0], arguments[1], arguments[2], selfVar)) : throwError("Cannot find method implementation of method 'InitEmpty' of type 'type4_TMap'"); };
	this.Save = function() { return (method10_type4_TMap_4_Save) ? (method10_type4_TMap_4_Save(selfVar)) : throwError("Cannot find method implementation of method 'Save' of type 'type4_TMap'"); };
	this.Init = function() { return (method10_type4_TMap_4_Init) ? (method10_type4_TMap_4_Init(arguments[0], selfVar)) : throwError("Cannot find method implementation of method 'Init' of type 'type4_TMap'"); };
	this.Update = function() { return (method10_type4_TMap_6_Update) ? (method10_type4_TMap_6_Update(selfVar)) : throwError("Cannot find method implementation of method 'Update' of type 'type4_TMap'"); };
	this.Render = function() { return (method10_type4_TMap_6_Render) ? (method10_type4_TMap_6_Render(selfVar)) : throwError("Cannot find method implementation of method 'Render' of type 'type4_TMap'"); };
	this.RenderTile = function() { return (method10_type4_TMap_10_RenderTile) ? (method10_type4_TMap_10_RenderTile(arguments[0], arguments[1], arguments[2], arguments[3], selfVar)) : throwError("Cannot find method implementation of method 'RenderTile' of type 'type4_TMap'"); };
	this.PickTile = function() { return (method10_type4_TMap_8_PickTile) ? (method10_type4_TMap_8_PickTile(arguments[0], arguments[1], selfVar)) : throwError("Cannot find method implementation of method 'PickTile' of type 'type4_TMap'"); };
	this.RemoveTile = function() { return (method10_type4_TMap_10_RemoveTile) ? (method10_type4_TMap_10_RemoveTile(arguments[0], arguments[1], selfVar)) : throwError("Cannot find method implementation of method 'RemoveTile' of type 'type4_TMap'"); };
	this.CollisionPoint = function() { return (method10_type4_TMap_14_CollisionPoint) ? (method10_type4_TMap_14_CollisionPoint(arguments[0], arguments[1], selfVar)) : throwError("Cannot find method implementation of method 'CollisionPoint' of type 'type4_TMap'"); };
	this.RayCollision = function() { return (method10_type4_TMap_12_RayCollision) ? (method10_type4_TMap_12_RayCollision(arguments[0], arguments[1], arguments[2], arguments[3], selfVar)) : throwError("Cannot find method implementation of method 'RayCollision' of type 'type4_TMap'"); };
	this.Collision = function() { return (method10_type4_TMap_9_Collision) ? (method10_type4_TMap_9_Collision(arguments[0], arguments[1], arguments[2], arguments[3], selfVar)) : throwError("Cannot find method implementation of method 'Collision' of type 'type4_TMap'"); };
	this.ToString_Str = function() { return (method13_type7_TObject_12_ToString_Str) ? (method13_type7_TObject_12_ToString_Str(selfVar)) : throwError("Cannot find method implementation of method 'ToString_Str' of type 'type4_TMap'"); };
	this.clone = function() {
		var other = new type4_TMap();
		other.attr6_IsSnow = tryClone(this.attr6_IsSnow);
		other.attr5_Datas = tryClone(this.attr5_Datas);
		other.attr5_Width = tryClone(this.attr5_Width);
		other.attr6_Height = tryClone(this.attr6_Height);
		other.attr7_ScrollX = tryClone(this.attr7_ScrollX);
		other.attr7_ScrollY = tryClone(this.attr7_ScrollY);
		other.attr7_Tileset = tryClone(this.attr7_Tileset);
		other.attr15_TilesetPath_Str = tryClone(this.attr15_TilesetPath_Str);
		other.attr13_SpikePosition = tryClone(this.attr13_SpikePosition);
		other.attr8_SpikeDir = tryClone(this.attr8_SpikeDir);
		other.attr6_SpawnX = tryClone(this.attr6_SpawnX);
		other.attr6_SpawnY = tryClone(this.attr6_SpawnY);
		other.attr11_NextMap_Str = tryClone(this.attr11_NextMap_Str);
		other.attr9_LastPickX = tryClone(this.attr9_LastPickX);
		other.attr9_LastPickY = tryClone(this.attr9_LastPickY);
		other.attr6_HasFBO = tryClone(this.attr6_HasFBO);
		other.attr13_IsRenderedFBO = tryClone(this.attr13_IsRenderedFBO);
		other.attr8_ScreenID = tryClone(this.attr8_ScreenID);
		other.attr5_SprID = tryClone(this.attr5_SprID);
		return other;
	};
	return this;
	
};
/**
* @constructor
*/
function type7_TPlayer() {
	var selfVar = this;
	this.attr1_X = 0.0;
	this.attr1_Y = 0.0;
	this.attr2_VX = 0.0;
	this.attr2_VY = 0.0;
	this.attr5_Width = 0;
	this.attr6_Height = 0;
	this.attr4_Anim = 0;
	this.Init = function() { return (method13_type7_TPlayer_4_Init) ? (method13_type7_TPlayer_4_Init(arguments[0], arguments[1], arguments[2], arguments[3], selfVar)) : throwError("Cannot find method implementation of method 'Init' of type 'type7_TPlayer'"); };
	this.Update = function() { return (method13_type7_TPlayer_6_Update) ? (method13_type7_TPlayer_6_Update(selfVar)) : throwError("Cannot find method implementation of method 'Update' of type 'type7_TPlayer'"); };
	this.Render = function() { return (method13_type7_TPlayer_6_Render) ? (method13_type7_TPlayer_6_Render(selfVar)) : throwError("Cannot find method implementation of method 'Render' of type 'type7_TPlayer'"); };
	this.Reset = function() { return (method13_type7_TPlayer_5_Reset) ? (method13_type7_TPlayer_5_Reset(selfVar)) : throwError("Cannot find method implementation of method 'Reset' of type 'type7_TPlayer'"); };
	this.ToString_Str = function() { return (method13_type7_TObject_12_ToString_Str) ? (method13_type7_TObject_12_ToString_Str(selfVar)) : throwError("Cannot find method implementation of method 'ToString_Str' of type 'type7_TPlayer'"); };
	this.clone = function() {
		var other = new type7_TPlayer();
		other.attr1_X = tryClone(this.attr1_X);
		other.attr1_Y = tryClone(this.attr1_Y);
		other.attr2_VX = tryClone(this.attr2_VX);
		other.attr2_VY = tryClone(this.attr2_VY);
		other.attr5_Width = tryClone(this.attr5_Width);
		other.attr6_Height = tryClone(this.attr6_Height);
		other.attr4_Anim = tryClone(this.attr4_Anim);
		return other;
	};
	return this;
	
};
/**
* @constructor
*/
function type5_TShit() {
	var selfVar = this;
	this.attr3_Del = 0;
	this.attr1_X = 0.0;
	this.attr1_Y = 0.0;
	this.attr2_VY = 0.0;
	this.attr3_Age = 0;
	this.attr2_Al = 0.0;
	this.Render = function() { return (method11_type5_TShit_6_Render) ? (method11_type5_TShit_6_Render(selfVar)) : throwError("Cannot find method implementation of method 'Render' of type 'type5_TShit'"); };
	this.Update = function() { return (method11_type5_TShit_6_Update) ? (method11_type5_TShit_6_Update(selfVar)) : throwError("Cannot find method implementation of method 'Update' of type 'type5_TShit'"); };
	this.Init = function() { return (method11_type5_TShit_4_Init) ? (method11_type5_TShit_4_Init(arguments[0], arguments[1], selfVar)) : throwError("Cannot find method implementation of method 'Init' of type 'type5_TShit'"); };
	this.ToString_Str = function() { return (method13_type7_TObject_12_ToString_Str) ? (method13_type7_TObject_12_ToString_Str(selfVar)) : throwError("Cannot find method implementation of method 'ToString_Str' of type 'type5_TShit'"); };
	this.clone = function() {
		var other = new type5_TShit();
		other.attr3_Del = tryClone(this.attr3_Del);
		other.attr1_X = tryClone(this.attr1_X);
		other.attr1_Y = tryClone(this.attr1_Y);
		other.attr2_VY = tryClone(this.attr2_VY);
		other.attr3_Age = tryClone(this.attr3_Age);
		other.attr2_Al = tryClone(this.attr2_Al);
		return other;
	};
	return this;
	
};
/**
* @constructor
*/
function type5_TSpit() {
	var selfVar = this;
	this.attr1_X = 0.0;
	this.attr1_Y = 0.0;
	this.attr2_VX = 0.0;
	this.attr2_VY = 0.0;
	this.attr3_Age = 0;
	this.attr2_Al = 0.0;
	this.attr3_Del = 0;
	this.Update = function() { return (method11_type5_TSpit_6_Update) ? (method11_type5_TSpit_6_Update(selfVar)) : throwError("Cannot find method implementation of method 'Update' of type 'type5_TSpit'"); };
	this.Render = function() { return (method11_type5_TSpit_6_Render) ? (method11_type5_TSpit_6_Render(selfVar)) : throwError("Cannot find method implementation of method 'Render' of type 'type5_TSpit'"); };
	this.Init = function() { return (method11_type5_TSpit_4_Init) ? (method11_type5_TSpit_4_Init(arguments[0], arguments[1], arguments[2], arguments[3], selfVar)) : throwError("Cannot find method implementation of method 'Init' of type 'type5_TSpit'"); };
	this.ToString_Str = function() { return (method13_type7_TObject_12_ToString_Str) ? (method13_type7_TObject_12_ToString_Str(selfVar)) : throwError("Cannot find method implementation of method 'ToString_Str' of type 'type5_TSpit'"); };
	this.clone = function() {
		var other = new type5_TSpit();
		other.attr1_X = tryClone(this.attr1_X);
		other.attr1_Y = tryClone(this.attr1_Y);
		other.attr2_VX = tryClone(this.attr2_VX);
		other.attr2_VY = tryClone(this.attr2_VY);
		other.attr3_Age = tryClone(this.attr3_Age);
		other.attr2_Al = tryClone(this.attr2_Al);
		other.attr3_Del = tryClone(this.attr3_Del);
		return other;
	};
	return this;
	
};
/**
* @constructor
*/
function type7_TObject() {
	var selfVar = this;
	this.ToString_Str = function() { return (method13_type7_TObject_12_ToString_Str) ? (method13_type7_TObject_12_ToString_Str(selfVar)) : throwError("Cannot find method implementation of method 'ToString_Str' of type 'type7_TObject'"); };
	this.clone = function() {
		var other = new type7_TObject();
		return other;
	};
	return this;
	
};


//JS LIB: JS/lib.js

if (viewMode == 'console') {
	window.onload=function( e ){
		updateConsole();
	}
}

//alert = function() {}

//------------------------------------------------------------
//Funny variables
//------------------------------------------------------------

var waitload			= 0; //auf wieviel wird gewartet (gibts auch in 2d.js) 
var exec 				= false;
var tmpPositionCache 	= -1; 
var args				= new Array(64); //Die Parameter (in umgeandelter form), 64 maximal
var consoleOutput;
var consoleSize 		= 10000;
var currentDir;
var mainCall			= false;

//------------------------------------------------------------
//Output
//------------------------------------------------------------

function STDOUT(text) {
	if (consoleOutput == undefined) {
		consoleOutput = document.getElementById("console");
	}
	
	if (consoleOutput) {
		if (LEN(consoleOutput.value) + LEN(text) > consoleSize) {
			//consoleOutput.value = MID_Str(consoleOutput.value, (LEN(consoleOutput.value) + LEN(text)) - consoleSize);
		}
		consoleOutput.value = consoleOutput.value + text;
		consoleOutput.scrollTop = consoleOutput.scrollHeight;
	} else {
		console.log(text);
	}
}


function STDERR(text) {
	STDOUT("Error: "+text);
}

function STDCOLOR(back, fore) {
	//ignore :)
}

function DEBUG(text) {
	console.log(text);
}

function END() {
	window.onbeforeunload();
	throw "endprog";
}


//------------------------------------------------------------
//Info Stuff
//------------------------------------------------------------

function GETTIMERALL() {
	return new Date().getTime() - startTime;
}

function PLATFORMINFO_Str(info) {
	switch(info) {
		case "":
			return "HTML5";
		case "DOCUMENTS":
		case "APPDATA":
		case "TEMP":
			return "/";
		case "ID":
			return ""+uniqueId;
		case "DEVICE":
			//TODO: Andere Devices bercksichtigen
			return "DESKTOP";
		case "BATTERY":
			var bat = navigator.battery || window.navigator.battery || navigator.battery || navigator.mozBattery || navigator.webkitBattery;
			return bat ? bat.level*100 : 100;
		case "TIME":
			var d = new Date();
			var f = function(val) {
				val = CAST2STRING(val);
				if (LEN(val) == 1) val = "0" + val;
				return val;
			}
			return f(d.getFullYear())+"-"+f(d.getMonth())+"-"+f(d.getDate())+" "+f(d.getHours())+":"+f(d.getMinutes())+":"+f(d.getSeconds());
		case "COMPILED":
			return rot13(compileTime);
		case "VERSION":
			return rot13(userDefVersion);
		case "HOSTID":
			return rot13(hostId);
		case "LOCALE":
			return navigator.language || window.navigator.userLanguage || window.navigator.language;
		default:
			if (LEN(info) > LEN("GLEXT:") && MID_Str(info, 0, LEN("GLEXT:")) == "GLEXT:") {
				return "0"; //vorerst nichts
			} else {
				return "";
			}
	}
}


function GETLASTERROR_Str() {
	return "0 Successfull";
}

//wait und show wird ignoriert
function SHELLCMD(cmd, wait, show, rv) {
	try {
		rv[0] = CAST2FLOAT(eval(cmd));
	} catch(ex) {
		rv[0] = 0
		rv[0] = 0
		throwError("SHELLCMD raised ab error.");
	}
}

function SHELLEND(cmd) {
	try {
		eval(cmd);
	} catch(ex) {
		throwError("SHELLEND raised an error");
	}
	END();
}

function CALLBYNAME(name) {
	var ret = 1;
	return eval("if (window['"+name+"']) window."+name+"(); else ret = 0;");
}

//------------------------------------------------------------
//Runtime stuff
//------------------------------------------------------------

var expectedErrors = ["endprog", "GLBERR"]

var callStack = []
/**
* @constructor
*/
function StackFrame(name, info) {
	this.name = name;
	this.info = info;
}

function stackPush(name, info) {
	callStack.push(new StackFrame(name, info));
}

function stackPop() {
	callStack.pop();
}

function stackTrace() {
	var output = "";
	for (var i = callStack.length-1; i >= 0 ; i--) {
		output += "\tin '"+callStack[i].name+"' in file '"+MID_Str(callStack[i].info, INSTR(callStack[i].info, ":")+1)+"' in line '"+MID_Str(callStack[i].info, 0, INSTR(callStack[i].info, ":"))+"'\n";
	}
	
	return output;
}

function throwError(msg) {
	if (callStack.length > 0) {
		throw msg;
	} else {
		alert(msg);
		END();
	}
}

function formatError(msg) {
	msg = msg.message ? msg.message : msg.toString();
	if (debugMode) {
		msg = "Error:\n '"+msg+"' ";
		var info = __debugInfo;
		//debug modus
		msg += "\nAppeared in line '"+MID_Str(info, 0, INSTR(info, ":"))+"' in file '"+MID_Str(info, INSTR(info, ":")+1)+"' "
		
		msg += "\n\n"+stackTrace();
	}
	return msg;
}

function dumpArray(arr) {
	var acc = "";
	var start = false;
	for (var i = 0; i < arr.length; i++) {
		if (start) acc += ", "
		acc += "'"+arr[i]+"'";
		start = true;
	}
	return "["+acc+"]";
}

function forCheck(cur, to, step) {
	if (step > 0) {
		return cur <= to;
	} else if(step < 0) {
		return cur >= to;
	} else {
		return true;
	}
}

function isKnownException(ex) {
	ex = ex.toString();
	for(var i = 0; i < expectedErrors.length; i++) {
		if (ex.indexOf(expectedErrors[i]) == 0) return true
	}
	return false;
}

//versucht zu dereferenzieren falls notwendig
function unref(v) {
	if (v instanceof Array) {
		//damn i have to unref it
		return v[0];
	} else {
		//nothing to do here bro...
		return v;
	}
}

//versucht zu referenzieren falls notwendig
function ref(v) {
	if (v instanceof Array) {
		return v;
	} else {
		return [v];
	}
}

function tryClone(o) {
	switch (typeof o) {
		case 'undefined':
		case 'function':
		case 'string':
		case 'boolean':
		case 'number':
			break;
		default:
			if (o instanceof Array) {
				return [tryClone(o[0])];
			} else {
				return o.clone();
			}
	}
	return o;
}

function updateConsole() {
	try {
		if (!mainCall) {
			main();
			mainCall = true;
		}
		
		if (!waitload && !exec) {
			exec = true;

			if (typeof(GLB_ON_INIT) == 'function') GLB_ON_INIT(); //call the GLBasic defined initialization function
		} else {
			window.requestAnimFrame(updateConsole, 100);
		}
	} catch(ex) {
		if (ex != "endprog") alert(formatError(ex));
	}
}


//------------------------------------------------------------
//DATA
//------------------------------------------------------------


var dataLabel, dataPosition;
function RESTORE(label) {
	dataLabel = label;
	dataPosition = 0;
}

function READ() {
	var d = dataLabel[dataPosition];
	dataPosition++;
	return d;
}

//------------------------------------------------------------
//ARRAY FUN
//------------------------------------------------------------


/**
* Ein GLBArray ist ein Array, welches versucht die GLBArrays unter GLBasic so gut wie mglich zu simulieren.
* @constructor
*/
function GLBArray() {
	// optimize this beast of code
	this.values = new Array();
	this.dimensions = [0];
	this.defval = 0;
	//this.arrAccess = 
	//this.clone = 
	
	return this;
}

//Klonen!
GLBArray.prototype.clone = function() {
	var other = new GLBArray();
	other.values = this.values.slice(0);
	other.dimensions = this.dimensions.slice(0);
	other.defval = this.defval;
	
	//Klonen die drinnen sind!
	if (this.values != undefined && this.values.dimensions != undefined) {
		for (var i = 0; i < this.values.length; i++) {
			other.values[i] = tryClone(this.values[i]);
		}
	}
	
	return other;
};

//Zugriff!
GLBArray.prototype.arrAccess = function() {
	tmpPositionCache = 0;
	
	for (var i = arguments.length-1; i >= 0 ; i--) {
		if (i >= this.dimensions.length) throwError("Wrong dimension count '"+(arguments.length-1)+"' expected '"+this.dimensions.length+"'");
		
		var position = CAST2INT(arguments[i]); //Math.round( <- not sure...
		
		if (position < 0)
			position = (this.dimensions[i] + position);
		
		if (position < 0 || position >= this.dimensions[i]) throwError("Array index out of bounds access, position: "+dumpArray(arguments));
		
		args[i] = position;
	}
	
	
	switch (arguments.length) {
		case 1:
			tmpPositionCache = args[0];
			break;
		case 2:
			tmpPositionCache = args[0] + args[1]*this.dimensions[0];
			break;
		case 3:
			tmpPositionCache = args[0] + args[1]*this.dimensions[0] + args[1]*this.dimensions[0]*this.dimensions[1] + args[2]*this.dimensions[0]*this.dimensions[1]*this.dimensions[2];
			break;
		case 4:
			tmpPositionCache = args[0] + args[1]*this.dimensions[0] + args[1]*this.dimensions[0]*this.dimensions[1] + args[2]*this.dimensions[0]*this.dimensions[1]*this.dimensions[2] + args[2]*this.dimensions[0]*this.dimensions[1]*this.dimensions[2]*this.dimensions[3];
			break;
		default:
			var mul = this.values.length/this.dimensions[arguments.length-1];
			for (var i = arguments.length-1; i >= 0 ; i--) {
				tmpPositionCache += args[i]*mul;
				mul /= this.dimensions[i-1];
			}
	}
	
	return this;
}

function realArrSize(dims) {
	var realSize = 1;
	for(d in dims) {
		dims[d] = CAST2INT(Math.round(dims[d]));
		realSize *= dims[d];
	}
	return realSize;
}

//Dimensioniert das gegebene Array
function DIM(vari, dims, value) {
	vari.values = new Array(realArrSize(dims)); //[];//vari.values.length = realArrSize(dims);
	vari.dimensions = dims;
	vari.defval = value;
	
	
	for(var i = 0; i < vari.values.length; i++) {
		vari.values[i] = tryClone(value);
	}
	
	
	return vari;
}
//Redimensioniert das gegebene Array.
function REDIM(vari, dims, value) {
	var oldLength = vari.values.length;
	
	vari.dimensions = dims;
	vari.defval = value;
	
	
	//OBACHT knnte bei mehrdimensionalen arrys unerwartete ergebnisse liefern, wenn man elemente rauslscht
	vari.values.length = realArrSize(dims);
	for(i = 0; i < vari.values.length; i++) {
		if (i >= oldLength) {
			vari.values[i] = tryClone(vari.defval);
		}
	}
	
	return vari;
}

function BOUNDS(array, dimension) {
	return array.dimensions[dimension];
}

function DIMPUSH(array, value) {
	//OBACHT bei Mehrdimensionalen Arrays
	REDIM(array, [array.values.length+1], array.defval);
	array.values[array.values.length-1] = tryClone(value);
}

function DIMDEL(array, position) {
	//OBACHT knnte bei mehrdimensionalen arrys unerwartete ergebnisse liefern, wenn man elemente rauslscht
	array.values.splice(position, 1);
	array.dimensions[0]--;
}

function DIMDATA(array, values) {
	array.values = values;
	array.dimensions = [values.length];
}

function LEN(vari) {
	switch (typeof vari) {
		case 'string':
			return vari.length;
		case 'number':
			return CAST2STRING(vari).length;
		default:
			if (vari.constructor === GLBArray) {
				return BOUNDS(vari, 0);
			} else {
				throwError("Cannot get the length of: "+typeof(vari)+", "+vari.constructor);
			}
	}
}

//------------------------------------------------------------
//MATH
//------------------------------------------------------------

function SEEDRND(seed) {
	rand = new RandomNumberGenerator(seed);
}

var rand = null;

function RND(range) {
    if (range == 0) return 0;
	if (range < 0) range = -range;
    //return MAX((Math.random()+.1)*range, range);
	if (!rand) rand = new RandomNumberGenerator(GETTIMERALL());
	return (range+1) * rand.next();
}

function MIN(a,b) {
	if (a < b) return a; else return b;
}

function MAX(a, b) {
	if (a > b) return a; else return b;
}

function ABS(a) {
	return Math.abs(a);
}

function SGN(a) {
	return a > 0 ? 1 : (a < 0 ? -1 : 0);
}

function SIN(a) {
	return Math.sin(deg2rad(a));
}

function COS(a) {
	return Math.cos(deg2rad(a));
}

function TAN(a) {
	return Math.tan(deg2rad(a));
}

function ACOS(a) {
	return Math.acos(deg2rad(a));
}

function ASIN(a) {
	return Math.asin(deg2rad(a));
}

function ASL(num, shift) {
	return num << shift;
}

function ASR(num, shift) {
	return num >> shift;
}

function ATAN(dy, dx) {
	return rad2deg(Math.atan2(dy, dx));
}

function bAND(a, b) {
	return a & b;
}

function bOR(a, b) {
	return a | b;
}

function bXOR(a, b) {
	return a ^ b;
}

function bNOT(a) {
	return ~a;
}

function MOD(a, b) {
	return CAST2INT(a%b);
}

function FMOD(num, div) {
	return num%div;
}

function FINDPATH(map, result, heu, startx, starty, endx, endy) {
	alert("TODO: findpath");
}

function LOGN(a) {
	return Math.log(a);
}

function POW(a, b) {
	return Math.pow(a, b);
}

function SQR(a) {
	return Math.sqrt(a);
}

function SWAP(a, b) {
	var tmp = a;
	a[0] = b[0];
	b[0] = tmp[0];
}

function SORTARRAY(array, cmp) {
	var cmpFunc;
	if (cmp == 0) {
		cmpFunc = function(a, b) {
			a = unref(a);
			b = unref(b);
			switch (typeof o) {
				case 'undefined':
				case 'function':
				case 'string':
				case 'boolean':
				case 'number':
					return a < b ? -1 : (a > b ? 1 : 0)
				default:
					throwError("TODO: Default sortarray with types!");
					return;
			}
		}
	} else {
		cmpFunc = function(a, b) {
			return cmp([a], [b]);
		}
	}
	array.values.sort(cmpFunc);
}

function deg2rad(val) {
	return (val*(Math.PI/180));
}

function rad2deg(val) {
	return (val*(180/Math.PI));
}

//Castet die gegebene Value in eine Ganzzahl (falls NaN kommt => 0 returnen)
function CAST2INT(value) {
	if (value instanceof Array) { //not sure about this
		return [CAST2INT(value[0])];
	} else {
		switch (typeof value) {
			case 'function':
				return 1;
			case 'undefined':
				throwError("Cannot cast 'undefined'");
			case 'number':
				if (value < 0) return Math.ceil(value); else if (value > 0) return Math.floor(value); else return 0;
			case 'string':
				if (isNaN(value) || value == '') 
					return 0; //Falls keine Nummer => 0
				else
					return parseInt(value);
			case 'boolean':
				return value ? 1 : 0;
			case 'object':
				return CAST2INT(value.toString());
			default:
				throwError("Unknown type!");
		}
	}
}

function INTEGER(value) {
	return CAST2INT(value);
}

//Castet die gegebene Value in eine Gleitkommazahl (falls NaN kommt => 0 returnen)
function CAST2FLOAT(value) {
	if (value instanceof Array) { //not sure about this
		return [CAST2FLOAT(value[0])];
	} else {
		if (value != undefined && !isNaN(value)) return value; //Wenn nicht kein nummer (also eine nummer) dann einfach raushauen!
		
		switch (typeof value) {
			case 'function':
				return 1.0;
			case 'undefined':
				throwError("Cannot cast 'undefined'");
			//case 'number':
			//	return value;
			case 'string':
				if (isNaN(value) || value == '') 
					return 0.0; //Falls keine Nummer => nummer machen
				else //Ist eine Nummer
					return parseFloat(value);
			case 'boolean':
				return value ? 1.0 : 0.0;
			case 'object':
				return CAST2FLOAT(value.toString());
			default:
				throwError("Unknown type!");
		}
	}
}

function STACKTRACE_Str() {
	return stackTrace();
}

//------------------------------------------------------------
//String:
//------------------------------------------------------------

function FORMAT_Str(numLetter, numKommas, Number) {
	var str = CAST2STRING(Number);
	var l = INSTR(str, ".");
	var r = REVINSTR(str, ".");
	
	//wenn lnger als erwartet
	for(var i = l; i < numLetter; i++) {
		str = " " + str;
	}
	for(var i = r; i < numKommas; i++) {
		str = str + "0";
	}
	
	//wenn krzer als erwartet
	for (var i = numLetter; i < l; i++) {
		str = MID_Str(str, 1);
	}
	for (var i = numKommas; i < r; i++) {
		str = MID_Str(str, 0, LEN(str)-1);
	}
	
	return str;
}

function ENCRYPT_Str(code, text) {
	var add = 0;
	for (i = 0; i < LEN(code); i++) {
		add += ASC(code, i);
	}
	add = add %  16;
	
	var newText = "";
	for (i = 0; i < LEN(text); i++) {
		newText = newText + CHR_Str(ASC(text, i)+add);
	}
	return newText;
}

function DECRYPT_Str(code, text) {
	var add = 0;
	for (i = 0; i < LEN(code); i++) {
		add += ASC(code, i);
	}
	add = add % 16;
	
	var newText = "";
	for (i = 0; i < LEN(text); i++) {
		newText = newText + CHR_Str(ASC(text, i)-add);
	}
	return newText;
}

function LCASE_Str(str) {
	return str.toLowerCase();
}

function UCASE_Str(str) {
	return str.toUpperCase();
}

function MID_Str(str, start, count) {
	try {
		if (count == -1)
			return str.substr(start);
		else
			return str.substr(start, count);
	} catch (ex) {
		throwError("string error (MID$): '"+str+"' start: '"+start+"' count: '"+count+"'");
	}
}

function LEFT_Str(str, count) {
	try {
		return str.substr(0, count);
	} catch(ex) {
		throwError("string error (LEFT$): '"+str+"' count: '"+count+"'");
	}
}

function RIGHT_Str(str, count) {
	try {
		return str.substr(LEN(str) - count, count);
	} catch (ex) {
		throwError("string error (RIGHT$): '"+str+"' count: '"+count+"'");
	}
}

//Castet die gegebene Value in eine Zeichenkette
function CAST2STRING(value) {
	if (value instanceof Array) { //not sure about this
		return [CAST2STRING(value[0])];
	} else {
		switch (typeof value) {
			case 'function':
				return "1";
			case 'undefined':
				throwError("Cannot cast undefined to string");
			case 'boolean':
				return value ? "1" : "0";
			case 'number':
				return ""+value;
			case 'string':
				return value;
			case 'object':
				return value.toString();
			default:
				throwError("Unknown type");
		}
	}
}

function INSTR(str, text, start) {
	if (start == -1) {
		return str.indexOf(text);
	} else {
		return str.indexOf(text, start);
	}
}
function REVINSTR(str, text, start) {
	if (start == -1) {
		return str.lastIndexOf(text);
	} else {
		return str.lastIndexOf(text, start);
	}
}

function CHR_Str(character) {
	return String.fromCharCode(character);
}

function REPLACE_Str(text, from, to) {
	var i=0;
	for(;;){
		i=text.indexOf( from,i );
		if( i==-1 ) return text;
		text=text.substring( 0,i )+to+text.substring( i+from.length );
		i+=to.length;
	}
	return text;
	//return text.replace(from, to);
}

function TRIM_Str(text, repl) {
	return LTRIM_Str(RTRIM_Str(text, repl), repl);
}

function LTRIM_Str(text, repl) {
	for (i =0; i < text.length; i++) {
		var c = text.charAt(i);
		if (repl.indexOf(c) == -1) {
			return text.substr(i);
		}
	}
	return "";
}

function RTRIM_Str(text, repl) {
	for (i =text.length-1; i >= 0 ; i--) {
		var c = text.charAt(i);
		if (repl.indexOf(c) == -1) {
			return text.substr(0,i+1);
		}
	}
	return "";
}

function ASC(text, index) {
	try {
		return text.charCodeAt(index);
	} catch(ex) {
		throwError("string error (ASC): '"+text+"' index: '"+index+"'");
	}
}


function SPLITSTR(text, array, split, dropEmpty) {
	try {
		var last = 0;
		REDIM(array, [0], array.defval);
		for (var i = 0; i <=text.length; i++) {
			var c = text.charAt(i);
			if (split.indexOf(c) != -1 || i == (text.length)) {
				var t = MID_Str(text, last, i - last);
				if (t != "" || !dropEmpty) {
					if (array.defval instanceof Array) {
						DIMPUSH(array, [t]); //wenns ein ref dings ist, in ref packen!
					} else {
						DIMPUSH(array, t);
					}
				}
				last = i+1;
			}
		}
		
		return LEN(split);
	} catch(ex) {
		throwError("string error (SPLITSTR): '"+str+"' split: '"+split+"' dropEmpty: "+dropEmpty);
	}
}

function URLENCODE_Str(url) {
	return encodeURI(url);
}

function URLDECODE_Str(url) {
	return decodeURI(url);
}

//------------------------------------------------------------
//FILE:
//------------------------------------------------------------

var channels 	= []
function GENFILE() {
	for (var i = 0; i < channels.length; i++) {
		if (!channels[i]) return i;
	}
	return channels.length;
}

//converts the given path "/lol/hallo/wtf.txt" to the result dir and filename
function rawpath(path, dir) {
	path = (TRIM_Str(dir.getFileSystem().getCurrentDir()," ") + TRIM_Str(path," ")).toLowerCase();
	var last = 0;
	var curDir = dir;
	
	for (var i = 0; i < path.length; i++) {
		switch(path.charAt(i)) {
			case '/':
				if (i > 0) {
					//oha ein / also einen tab hher
					var name = path.substr(last, i - last);
					curDir = curDir.getSubDir(name);
					last = i+1;
				} else {
					last = 1;
				}
				break;
			case '.':
				//schauen was danach kommt
				var nextSymbol = function() {
					i++;
					return i < path.length;
				}
				if (!nextSymbol()) break;
				if (path.charAt(i) == '.') {
					curDir = curDir.getParent();
					if (!nextSymbol()) break; //nun muss ein / sein
					if (path.charAt(i) != '/') throwError("Expecting '/'");
					last = i+1;
				} else if (path.charAt(i) == '/') {
					//wenn ein / ist, ignorieren
					last = i+1;
				}
				
				break;
		}
	}
	
	return new FilePointer(path.substr(last, path.length - last), curDir);
}

/**
* @constructor
*/
function FilePointer(name, dir) {
	this.name = name;
	this.dir = dir;
}

/**
* @constructor
*/
function VirtualFileSystem(text) {
	this.mainDir = new VirtualDirectory("", null, this);
	this.curDir = "";
	
	
	this.copyFile = function(from, to) {
		if (this.doesFileExist(form)) {
			var data = this.getFile(from).data;
			this.createFile(to, data);
		}
	}
	
	this.getCurrentDir = function() {
		return this.curDir;
	}	
	
	this.setCurrentDir = function(dir) {
		if (LEFT_Str(dir, 1) != "/") dir += "/" //muss mit / enden!
		this.curDir = dir;
	}
	
	this.getFile = function(file) {
		var d = rawpath(file, this.mainDir);
		return d.dir.getFile(d.name);
	}
	
	this.getDir = function(dir) {
		var d = rawpath(dir, this.mainDir);
		return d.dir;
		//return d.dir.getDir(d.name);
	}
	
	this.doesFileExist = function(file) {
		try {
			var d = rawpath(file, this.mainDir);
			return d.dir.doesFileExist(d.name);
		} catch (ex) {}
		return false;
	}
	
	this.doesDirExist = function(dir) {
		try {
			var d = rawpath(file, this.mainDir);
			return d.dir.doesDirExist(d.name);
		} catch (ex) {}
		return false;
	}
	
	this.removeFile = function(file) {
		var d= rawpath(file, this.mainDir);
		d.dir.removeFile(d.name);
	}
	
	this.removeDir = function(path) {
		var d = rawpath(path, this.mainDir);
		d.dir.removePath(d.name);
	}
	
	this.createFile = function(file, data) {
		//if (!file || !file.name || file.name.length == 0) return;
		if (!this.doesFileExist(file)) {
			var d = rawpath(file, this.mainDir);
			return d.dir.createFile(d.name, data);
		} else {
			var f = this.getFile(file);
			f.data = data;
			return f;
		}
	}
	
	this.createDir = function(dir) {
		//if (!dir || !dir.name || dir.name.length == 0) return;
		if (!this.doesDirExist(dir)) {
			var d = rawpath(dir, this.mainDir);
			return d.dir.createDir(d.name);
		} else return this.getDir(dir);
	}
	
	this["cD"] = this.createDir;
	this["cF"] = this.createFile;
	
	this.getMainDir = function() {
		return this.mainDir;
	}
	
	this.save = function() {
		return this.mainDir.save();
	}
	
	if (text != undefined) {
		//temporr die krzel erstellen
		window["fileSystem"] = this;
		eval(REPLACE_Str(text, "t.", "window.fileSystem."));
	}
}


/**
* @constructor
*/
function VirtualDirectory(name, parent, system) {
	this.name = name;
	this.parent = parent;
	this.subDirs = [];
	this.files = [];
	this.fileSystem = system;
	
	this.getList = function() {
		return this.subDirs.concat(this.files);
	}
	
	this.getFileSystem = function() {
		return this.fileSystem;
	}
	
	this.doesDirExist = function(dir) {
		for (var i = 0; i < this.subDirs.length; i++) {
			if (this.subDirs[i].name == file) {
				return true;
			}
		}
		return false;
	}
	
	this.doesFileExist = function(file) {
		for (var i = 0; i < this.files.length; i++) {
			if (this.files[i].name == file) {
				return true;
			}
		}
		return false;
	}
	
	this.removeFile = function(file) {
		for (var i = 0; i < this.files.length; i++) {
			if (this.files[i].name == file) {
				this.files.splice(i, 1);
				return;
			}
		}
		throwError("FileNotFound "+file);
	}
	
	this.removeDir = function(file) {
		for (var i = 0; i < this.subDirs.length; i++) {
			if (this.subDirs[i].name == file) {
				this.subDirs.splice(i, 1);
				return;
			}
		}
		throwError("DirNotFound "+file);
	}
	
	this.createDir = function(name) {
		var d = new VirtualDirectory(name, this,this.fileSystem);
		this.subDirs.push(d);
		return d;
	}
	
	this.createFile = function(name, data) {
		var f = new VirtualFile(this, name, data);
		this.files.push(f);
		
		return f;
	}
	
	this.getFile = function(name) {
		for (var i = 0; i < this.files.length; i++) {
			if (this.files[i].name == name) {
				return this.files[i];
			}
		}
		throwError("file not found");
	}
	
	this.getDir = function(name) {
		for (var i = 0; i < this.subDirs.length; i++) {
			if (this.subDirs[i].name == name) {
				return this.subDirs[i];
			}
		}
		throwError("Dir not found");
	}
	
	this.getSubDir = function(name) {
		for (var i = 0; i < this.subDirs.length; i++) {
			if (this.subDirs[i].name == name) {
				return this.subDirs[i];
			}
		}
		throwError("Dir not found: "+name);
	}
	
	this.getParent = function() {
		return this.parent;
	}
	
	this.getPath = function() {
		return ((!!this.getParent()) ? this.getParent().getPath()+"/" : "")+this.name;
	}
	
	this.save = function() {
		var text = "";
		if (this.getParent() != null ) text = "t.cD(\""+this.getPath()+"\");\n";
		for (var i = 0; i < this.files.length; i++) {
			text += this.files[i].save();
		}
		for (var i = 0; i < this.subDirs.length; i++) {
			text += this.subDirs[i].save();
		}
		return text;
	}
}

/**
* @constructor
*/
function VirtualFile(dir, name, data) {
	this.name = name;
	this.data = data;
	this.dir = dir;
	
	this.getName = function() {
		return this.name;
	}
	
	this.getData = function() {
		return this.data;
	}
	
	this.save = function() {
		return "t.cF(\""+this.dir.getPath()+"/"+this.name+"\", "+JSON.stringify(this.data)+");\n";
	}
}

/**
* @constructor
*/
function Channel(channel, file, mode) {
	this.channel = channel;
	this.mode = mode;
	this.ptr = 0;
	
	//existiert das file auf der platte?
	if (fileSystem.doesFileExist(file)) {
		//yep ist schon da!
		this.file = fileSystem.getFile(file);
	} else {
		//schauen obs im statischen filesystem liegt
		if (staticFileSystem.doesFileExist(file)) {
			//yey!
			if (mode == 1) { //ist nur lesen, da muss das file nicht ins andere filesystem kopiert werden
				this.file = staticFileSystem.getFile(file);
			} else { //muss ins dynamische hinkopiert werden
				var tmp = staticFileSystem.getFile(file);
				this.file = fileSystem.createFile(file, tmp.data);
			}
		} else {
			// :( nope... erstelle es im normalen, sofern es gerade nicht im lesemodus ist
			if (mode != 1) {
				try {
					this.file = fileSystem.createFile(file, []);
				} catch (ex) {
					throwError("cannot create file: "+file);
				}
			} else {
				throwError("file not found: "+file);
			}
		}
	}
	
	if (mode == -1) {
		//ptr
		this.ptr = this.file.data.length;
	}
	
	this.updateSize = function() {
		if (this.ptr > this.file.data.length) this.file.data.length = this.ptr;
	}
	
	this.checkPosition = function() {
		if (this.ptr > this.file.data.length) throwError("Reached end of file: '"+this.ptr+"' filesize: '"+this.file.data.length+"'");
	}
	
	this.ENDOFFILE = function() {
		return this.ptr >= this.file.data.length || this.ptr < 0; //TODO: not sure about >= !!111
	}
	this.FILESEEK = function(bytes, dir) {
		var old = this.ptr;
		switch(dir) {
			case -1:
				this.ptr = this.file.data.length - bytes;
				break;
			case 0:
				this.ptr = bytes;
				break;
			case 1:
				this.ptr += bytes;
				break;
		}
		if (this.ENDOFFILE()) this.ptr = old; //wenn auerhalb, dann zurcksetzen
	}
	
	//reads:
	this.READLINE = function() {
		var line = ""
		var character = "";
		while((character = String.fromCharCode(this.file.data[this.ptr])) != "\n" && (this.ptr < this.file.data.length)) {
			line = line + character;
			this.ptr++;
		}
		this.ptr++;
		//das \r am ende weg
		if (line.substr(line.length-1,1)=="\r") {
			line = line.substr(0, line.length-1);
		}
		this.checkPosition();
		return line;
	}
	this.READBYTE = function() {
		this.ptr++;
		var tmp = new Int8Array(1);
		tmp[0] = this.file.data[this.ptr-1]; //in ein byte converten
		this.checkPosition();
		return tmp[0];
	}
	this.READUBYTE = function() {
		this.ptr++;
		var tmp = new Uint8Array(1);
		tmp[0] = this.file.data[this.ptr-1]; //in ein ubyte casten
		this.checkPosition();
		return tmp[0];
	}
	this.READWORD = function() {
		this.ptr+=2;
		var buf = new ArrayBuffer(2);
		var view8 = new Uint8Array(buf);
		view8[0] = this.file.data[this.ptr-2];
		view8[1] = this.file.data[this.ptr-1];
		var tmp = new Int16Array(buf);
		this.checkPosition();
		return tmp[0];
	}
	this.READUWORD = function() {
		this.ptr+=2;
		var buf = new ArrayBuffer(2);
		var view8 = new Uint8Array(buf);
		view8[0] = this.file.data[this.ptr-2];
		view8[1] = this.file.data[this.ptr-1];
		var tmp = new Uint16Array(buf);
		this.checkPosition();
		return tmp[0];
	}
	this.READLONG = function() {
		this.ptr+=4;
		var buf = new ArrayBuffer(4);
		var view8 = new Uint8Array(buf);
		view8[0] = this.file.data[this.ptr-4];
		view8[1] = this.file.data[this.ptr-3];
		view8[2] = this.file.data[this.ptr-2];
		view8[3] = this.file.data[this.ptr-1];
		var tmp = new Int32Array(buf);
		this.checkPosition();
		return tmp[0];
	}
	this.READULONG = function() {
		this.ptr+=4;
		var buf = new ArrayBuffer(4);
		var view8 = new Uint8Array(buf);
		view8[0] = this.file.data[this.ptr-4];
		view8[1] = this.file.data[this.ptr-3];
		view8[2] = this.file.data[this.ptr-2];
		view8[3] = this.file.data[this.ptr-1];
		var tmp = new Uint32Array(buf);
		this.checkPosition();
		return tmp[0];
	}
	this.READIEEE = function() {
		this.ptr+=8;
		var buf = new ArrayBuffer(8);
		var view8 = new Uint8Array(buf);
		view8[0] = this.file.data[this.ptr-8];
		view8[1] = this.file.data[this.ptr-7];
		view8[2] = this.file.data[this.ptr-6];
		view8[3] = this.file.data[this.ptr-5];
		view8[4] = this.file.data[this.ptr-4];
		view8[5] = this.file.data[this.ptr-3];
		view8[6] = this.file.data[this.ptr-2];
		view8[7] = this.file.data[this.ptr-1];
		var tmp = new Float64Array(buf);
		this.checkPosition();
		return tmp[0];
	}
	this.READSHORTIEEE = function() {
		this.ptr+=4;
		var buf = new ArrayBuffer(4);
		var view8 = new Uint8Array(buf);
		view8[0] = this.file.data[this.ptr-4];
		view8[1] = this.file.data[this.ptr-3];
		view8[2] = this.file.data[this.ptr-2];
		view8[3] = this.file.data[this.ptr-1];
		var tmp = new Float32Array(buf);
		this.checkPosition();
		return tmp[0];
	}
	this.READSTR = function(count) {
		var text = "";
		for (var i = 0; i < count; i++) {
			text += CHR_Str(this.READUBYTE());
		}
		return text;
	}
	
	//writes:
	this.WRITEBYTE = function(data) {
		var tmp = new Int8Array(1);
		tmp[0] = data;
		this.file.data[this.ptr] = tmp[0];
		
		this.ptr++;
		this.updateSize();
	}
	this.WRITEUBYTE = function(data) {
		var tmp = new Uint8Array(1);
		tmp[0] = data;
		this.file.data[this.ptr] = tmp[0];
		
		this.ptr++;
		this.updateSize();
	}
	this.WRITEWORD = function(data) {
		var buffer = new ArrayBuffer(2);
		var wordView = new Int16Array(buffer);
		wordView[0] = data;
		var byteView = new Uint8Array(buffer);
		for (var i = 0; i < byteView.length; i++) {
			this.WRITEUBYTE(byteView[i]);
		}
		this.updateSize();
	}
	this.WRITEUWORD = function(data) {
		var buffer = new ArrayBuffer(2);
		var wordView = new Uint16Array(buffer);
		wordView[0] = data;
		var byteView = new Uint8Array(buffer);
		for (var i = 0; i < byteView.length; i++) {
			this.WRITEUBYTE(byteView[i]);
		}
		this.updateSize();
	}
	this.WRITELONG = function(data) {
		var buffer = new ArrayBuffer(4);
		var longView = new Int32Array(buffer);
		longView[0] = data;
		var byteView = new Uint8Array(buffer);
		for (var i = 0; i < byteView.length; i++) {
			this.WRITEUBYTE(byteView[i]);
		}
		this.updateSize();
	}
	this.WRITEULONG = function(data) {
		var buffer = new ArrayBuffer(4);
		var longView = new Uint32Array(buffer);
		longView[0] = data;
		var byteView = new Uint8Array(buffer);
		for (var i = 0; i < byteView.length; i++) {
			this.WRITEUBYTE(byteView[i]);
		}
		this.updateSize();
	}
	this.WRITEIEEE = function(data) {
		var buffer = new ArrayBuffer(8);
		var floatView = new Float64Array(buffer);
		floatView[0] = data;
		var byteView = new Uint8Array(buffer);
		for (var i = 0; i < byteView.length; i++) {
			this.WRITEUBYTE(byteView[i]);
		}
		this.updateSize();
	}
	this.WRITESHORTIEEE = function(data) {
		var buffer = new ArrayBuffer(4);
		var floatView = new Float32Array(buffer);
		floatView[0] = data;
		var byteView = new Uint8Array(buffer);
		for (var i = 0; i < byteView.length; i++) {
			this.WRITEUBYTE(byteView[i]);
		}
		this.updateSize();
	}
	this.WRITESTR = function(data) {
		for (var i = 0; i <data.length; i++) {
			this.WRITEUBYTE(ASC(data, i));
			//this.file.data[this.ptr] = ASC(data, i);
			//this.ptr++;
		}
		this.updateSize();
	}
	this.WRITELINE = function(data) {
		this.WRITESTR(data+"\r\n");
	}
}

function OPENFILE(channel, file, mode) {
	try {
		channels[channel] = new Channel(channel, file, mode);
		if (channel >= channels.length) channels.length = channel + 1;
		return 1;
	} catch(ex) {
		return 0;
	}
}

function getChannel(chn) {
	if (!channels[chn]) throwError("Cannot find channel: "+chn);
	return channels[chn];
}

function ENDOFFILE(channel) {
	return getChannel(channel).ENDOFFILE() ? 1 : 0;
}

function FILEPOSITION(channel) {
	return getChannel(channel).ptr;
}

function FILESEEK(channel, bytes, dir) {
	getChannel(channel).FILESEEK(bytes, dir);
}

function KILLFILE(file) {
	try {
		if (fileSystem.doesDirExist(file)) {
			fileSystem.removeDir(file);
		} else if (fileSystem.doesFileExist(file)) {
			fileSystem.removeFile(file);
		}
	} catch (ex) {}
	
	try {
		if (staticFileSystem.doesDirExist(file)) {
			staticFileSystem.removeDir(file);
		} else if (staticFileSystem.doesFileExist(file)) {
			staticFileSystem.removeFile(file);
		}
	} catch (ex) {}
}

function CLOSEFILE(channel) {
	channels[channel] = null;
	saveFileSystem(); //fs abspeichern
}

//READ Wrapper
function READUBYTE(channel, b) {
	b[0] = getChannel(channel).READUBYTE();
}

function READBYTE(channel, b) {
	b[0] = getChannel(channel).READBYTE();
}

function READWORD(channel, b) {
	b[0] = getChannel(channel).READWORD();
}

function READUWORD(channel, b) {
	b[0] = getChannel(channel).READUWORD();
}

function READLONG(channel, b) {
	b[0] = getChannel(channel).READLONG();
}

function READULONG(channel, b) {
	b[0] = getChannel(channel).READULONG();
}

function READSHORTIEEE(channel, b) {
	b[0] = getChannel(channel).READSHORTIEEE();
}

function READIEEE(channel, b) {
	b[0] = getChannel(channel).READIEEE();
}

function READLINE(channel, line) {
	line[0] = getChannel(channel).READLINE();
}

function READSTR(channel, str, count) {
	str[0] = getChannel(channel).READSTR(count);
}

//WRITE Wrapper
function WRITEUBYTE(channel, data) {
	getChannel(channel).WRITEUBYTE(data);
}

function WRITEBYTE(channel, data) {
	getChannel(channel).WRITEBYTE(data);
}

function WRITEWORD(channel, data) {
	getChannel(channel).WRITEWORD(data);
}

function WRITEUWORD(channel, data) {
	getChannel(channel).WRITEUWORD(data);
}

function WRITELONG(channel, data) {
	getChannel(channel).WRITELONG(data);
}

function WRITEULONG(channel, data) {
	getChannel(channel).WRITEULONG(data);
}

function WRITESHORTIEEE(channel, data) {
	getChannel(channel).WRITESHORTIEEE(data);
}

function WRITEIEEE(channel, data) {
	getChannel(channel).WRITEIEEE(data);
}
function WRITELINE(channel, data) {
	getChannel(channel).WRITELINE(data);
}

function WRITESTR(channel, data) {
	getChannel(channel).WRITESTR(data);
}

function SETSHOEBOX(data, media) {
	//ignore!
}

function GETCOMMANDLINE_Str() {
	var c = window.location.href;
	var l = INSTR(c, "?");
	if (l == -1) return "";
	return REPLACE_Str(MID_Str(c, l+1), "&", " ");
}

function GETCURRENTDIR_Str() {
	return fileSystem.getCurrentDir();
}

function SETCURRENTDIR(dir) {
	var tmpDir = rawpath(fileSystem.getCurrentDir() + dir, fileSystem.getMainDir());
	dir = tmpDir.dir.getPath()+dir;
	
	var fs1 = false, fs2 = false;
	try {
		fileSystem.setCurrentDir(dir);
		fs1 = true;
	} catch (ex) {}
	try {
		staticFileSystem.setCurrentDir(dir);
		fs2 = true;
	} catch (ex) {}
	return (fs1 && fs2) ? 1 : 0;
}

function DOESFILEEXIST(file) {
	return (fileSystem.doesFileExist(file) || staticFileSystem.doesFileExist(file)) ? 1 : 0;
}

function DOESDIREXIST(dir) {
	return (fileSystem.doesDirExist(dir) || staticFileSystem.doesDirExist(dir)) ? 1 : 0;
}

function GETFILESIZE(file) {
	try {
		var f = null;
		if (fileSystem.doesFileExist(file)) {
			f = fileSystem.getFile(file);
		} else if (staticFileSystem.doesFileExist(file)) {
			f = staticFileSystem.getFile(file);
		} else {
			throwError("Cannot find file: "+file);
		}
		if (!!f) return f.data.length;
	} catch(ex) {}
	return 0;
}

function GETFILELIST(find, files) {
	try {
		REDIM(files, [0], files.defval);
		var doesMatch = function(name) {
			var i = 0, j = 0;
			for (var j = 0; j <= find.length; j++) {
				var c = find.charAt(j);
				switch(c) {
					case '*':
						//beliebig lang
						j++;
						var endTok = find.charAt(j);
						j--;
						while(name.charAt(i) != endTok || i > name.length) i++; //bis es wieder zu einem spezialzeichen kommt, wiederholen
						break;
					case '?':
						//ignoriere!
						i++;
						break;
					default:
						if (c != name.charAt(i)) return false;
						i++;
				}
			}
			
			return true;
		}
		
		var data = fileSystem.getDir("").getList().concat(staticFileSystem.getDir("").getList());
		
		var numDir = 0, numFile = 0;
		
		var output = [];
		output.push(".");
		output.push("..");
		for (var i = 0; i <data.length; i++) {
			var o = data[i];
			
			if (doesMatch(o.name)) {
				if (o instanceof VirtualDirectory) {
					numDir++;
				} else if (o instanceof VirtualFile) {
					numFile++;
				} else {
					throwError("Unknown file type");
				}
				
				output.push(o.name);
			}
		}
		
		//output array in das echte array rein
		for (var i = 0; i < output.length; i++) {
			if (files.defval instanceof Array) {
				DIMPUSH(files, [output[i]]);
			} else {
				DIMPUSH(files, output[i]);
			}
		}
		
		//fertig
		return numDir*0x1000+numFile;
	} catch (ex) {
		throwError("GETFILELIST error: find: '"+find+"'");
	}
}

function COPYFILE(source, dest) {
	fileSystem.copyFile(source, dest);
	staticFileSystem.copyFile(source, dest);
}

function CREATEDIR(dir) {
	try {
		fileSystem.createDir(dir);
		staticFileSystem.createDir(dir);
		return 1;
	} catch(ex) {}
	return 0;
}

function PUTENV(name, value) {
	localStorage.setItem(("env_"+name).toLowerCase(), value);
}

function GETENV_Str(name) {
	return localStorage.getItem(("env_"+name).toLowerCase());
}

function rot13(text) {
	var newText = "";
	for (i = 0; i < LEN(text); i++) {
		newText = newText + CHR_Str(ASC(text, i)-13);
	}
	return newText;
}

function SLEEP(time) {
	var start = GETTIMERALL();
	while ((GETTIMERALL() - start)<time) {} //bler hack :/
}

//-----------------------------------------------------------
//INI
//-----------------------------------------------------------

/**
* @constructor
*/
function INI(file) {
	this.parse = function(text) {
		try {
			var lines = text.replace("\r").split("\n");
			var cat = "";
			for (var i = 0; i < lines.length; i++) {
				var l = lines[i];
				if (INSTR(l, ";") != -1) {
					l = MID_Str(l, 0, INSTR_Str(l, ";"));
				}
				if (MID_Str(l, 0, 1) == '[') {
					//kategorie
					cat = MID_Str(l, 1, REVINSTR(l, ']')-1);
				} else if (INSTR(l, "=") != -1) {
					var k = MID_Str(l, 0, INSTR(l,"="));
					var v = MID_Str(l, INSTR(l,"=")+1);
					INIPUT(cat, k, v);
				}
			}
		} catch(ex) {
			throwError("INI parse error: '"+text*"'");
		}
	}
	
	
	this.put = function(cat, key, value) {
		try {
			cat = cat.toLowerCase();
			var c;
			for (var i = 0;i < this.cats.length; i++) {
				if (this.cats[i].name == cat) {
					c = this.cats[i];
					if (key == "" && value == "") {
						//lschen
						this.cats.splice(i, 1);
						return;
					}
					break;
				}
			}
			if (!c) {
				c = new INICat(cat);
				this.cats.push(c);
			}
			c.put(key, value);
		} catch(ex) {
			throwError("INIPUT error cat: '"+cat+"' key: '"+key+"' value: '"+value+"'");
		}
	}
	
	
	this.get = function(cat, key) {
		try {
			cat = cat.toLowerCase();
			var c;
			for (var i = 0;i < this.cats.length; i++) {
				if (this.cats[i].name == cat) {
					c = this.cats[i];
					break;
				}
			}
			if (!c) {
				c = new INICat(cat);
			}
			return c.get(key);
		} catch(ex) {
			throwError("INIGET error cat: '"+cat+"' key: '"+key+"'");
		}
	}
	
	this.save = function() {
		var text = "";
		for (var i = 0;i < this.cats.length; i++) {
			text += "["+this.cats[i].name+"]\n"
			text += this.cats[i].save();
		}
		return text;
	}
	
	this.cats = [];	
	this.channel = 1337*2;
	
	try {
		OPENFILE(this.channel, file, 0)
		var size = GETFILESIZE(file);
		if (size > 0) {
			var text = [""];
			READSTR(this.channel, text, size);
			var o = curIni;
			curIni = this;
			this.parse(text[0]);
			curIni = o;
		}
	} catch(ex) {
		throwError("INI load error: '"+file+"'");
	}
	
}

/**
* @constructor
*/
function INICat(name) {
	this.name = name;
	this.keys = [];
	
	this.put = function(key, value) {
		key = key.toLowerCase();
		var kv;
		for (var i = 0;i < this.keys.length; i++) {
			if (this.keys[i].key == key) {
				kv = this.keys[i];
				if (value == "") {
					this.keys.splice(i, 1);
					return;
				}
				break;
			}
		}
		if (!kv) {
			kv = new INIKeyValue(key, value);
			this.keys.push(kv);
		}
	}
	
	this.get = function(key) {
		key = key.toLowerCase();
		var kv;
		for (var i = 0;i < this.keys.length; i++) {
			if (this.keys[i].key == key) {
				kv = this.keys[i];
				break;
			}
		}
		if (!kv) {
			kv = new INIKeyValue(key, "");
			this.keys.push(kv);
		}
		return kv.value;
	}
	
	this.save = function() {
		var text = "";
		for(var i = 0; i < this.keys.length; i++) {
			text += this.keys[i].key+"="+this.keys[i].value+"\n";
		}
		return text;
	}
}

/**
* @constructor
*/
function INIKeyValue(key, value) {
	this.key = key;
	this.value = value;
}

var curIni = null;

function INIOPEN(file) {
	if (!!curIni) {
		//speichern
		var text = curIni.save();
		WRITESTR(curIni.channel, text);
		CLOSEFILE(curIni.channel);
	}
	if (file == "") {
		curIni = null;
	} else {
		curIni = new INI(file);
	}
}

function INIPUT(cat, name, key) {
	if (!!curIni) {
		curIni.put(cat, name, key);
	}
}

function INIGET_Str(cat, name) {
	if (!!curIni) {
		return curIni.get(cat, name);
	}
}

//-----------------------------------------------------------
// Random Funktion with Seed
//-----------------------------------------------------------
/**
* @constructor
*/
function nextRandomNumber(){
	var hi = this.seed / this.Q;
	var lo = this.seed % this.Q;
	var test = this.A * lo - this.R * hi;
	if(test > 0){
		this.seed = test;
	} else {
		this.seed = test + this.M;
	}
	return (this.seed * this.oneOverM);
}

/**
* @constructor
*/
function RandomNumberGenerator(seed) {
	this.seed = seed;
	this.A = 48271;
	this.M = 2147483647;
	this.Q = this.M / this.A;
	this.R = this.M % this.A;
	this.oneOverM = 1.0 / this.M;
	this.next = nextRandomNumber;
	return this;
}

//-----------------------------------------------------------
//LocalStorage wrapper to cookies (if there is no localStorage) Found on the MDN
//-----------------------------------------------------------

if (!window.localStorage) {
  Object.defineProperty(window, "localStorage", new (function () {
    var aKeys = [], oStorage = {};
    Object.defineProperty(oStorage, "getItem", {
      value: function (sKey) { return sKey ? this[sKey] : null; },
      writable: false,
      configurable: false,
      enumerable: false
    });
    Object.defineProperty(oStorage, "key", {
      value: function (nKeyId) { return aKeys[nKeyId]; },
      writable: false,
      configurable: false,
      enumerable: false
    });
    Object.defineProperty(oStorage, "setItem", {
      value: function (sKey, sValue) {
        if(!sKey) { return; }
        document.cookie = escape(sKey) + "=" + escape(sValue) + "; path=/";
      },
      writable: false,
      configurable: false,
      enumerable: false
    });
    Object.defineProperty(oStorage, "length", {
      get: function () { return aKeys.length; },
      configurable: false,
      enumerable: false
    });
    Object.defineProperty(oStorage, "removeItem", {
      value: function (sKey) {
        if(!sKey) { return; }
        var sExpDate = new Date();
        sExpDate.setDate(sExpDate.getDate() - 1);
        document.cookie = escape(sKey) + "=; expires=" + sExpDate.toGMTString() + "; path=/";
      },
      writable: false,
      configurable: false,
      enumerable: false
    });
    this.get = function () {
      var iThisIndx;
      for (var sKey in oStorage) {
        iThisIndx = aKeys.indexOf(sKey);
        if (iThisIndx === -1) { oStorage.setItem(sKey, oStorage[sKey]); }
        else { aKeys.splice(iThisIndx, 1); }
        delete oStorage[sKey];
      }
      for (/*aKeys*/; aKeys.length > 0; aKeys.splice(0, 1)) { 
		oStorage.removeItem(aKeys[0]);
	  }
      for (var iCouple, iKey, iCouplId = 0, aCouples = document.cookie.split(/\s*;\s*/); iCouplId < aCouples.length; iCouplId++) {
        iCouple = aCouples[iCouplId].split(/\s*=\s*/);
        if (iCouple.length > 1) {
          oStorage[iKey = unescape(iCouple[0])] = unescape(iCouple[1]);
          aKeys.push(iKey);
        }
      }
      return oStorage;
    };
    this.configurable = false;
    this.enumerable = true;
  })());
}

//-----------------------------------------------------------
//Misc
//-----------------------------------------------------------

function NETWEBEND(url) {
	window.location = url;
	END();
}


window.requestAnimFrame = (function() {
  return window.requestAnimationFrame ||
         window.webkitRequestAnimationFrame ||
         window.mozRequestAnimationFrame ||
         window.oRequestAnimationFrame ||
         window.msRequestAnimationFrame ||
         function(/* function FrameRequestCallback */ callback, /* DOMElement Element */ element) {
           window.setTimeout(callback, 1000/60);
         };
})();

function checkBrowserName(name){  
	var agent = navigator.userAgent.toLowerCase();  
	if (agent.indexOf(name.toLowerCase())>-1) {  
		return true;  
	}  
	return false;  
}  

window.onbeforeunload = function (e) {
	e = e || window.event;
	
	//rufe noch GLB_ON_QUIT auf
	CALLBYNAME("GLB_ON_QUIT");
	
	//versuche nun das filesystem zu speichern
	saveFileSystem();
};

function saveFileSystem() {
	localStorage.setItem("filesystem", fileSystem.save());
}


var tmpAlert = alert;
alert = function(msg) {
	tmpAlert(msg)
}


//JS LIB: JS/2d.js
//------------------------------------------------------------
//Variables
//------------------------------------------------------------

if (viewMode == 'graphics') {
	window.onload=function( e ) {
		init2D('GLBCANVAS');
	}
}

var sprites		= []; 		//Alle Sprites im Array
var screens		= [];		//Alle Screens
var waitload	= 0; 		//Auf wieviele Sprites noch gewartet werden muss
var curScreen	= null;		//Der aktuell ausgewhlte Screen
var context		= null; 	//Der JavaScript Kontext
var canvas		= null;		//Das Canvas auf das gezeichnet wird
var clrColor	= RGB(0,0,0); //Die Hintergrundfarbe
var keyInput 	= [];		//Das Inputarray
var fontbuffer	= null;		//der frontbuffer
var backbuffer	= null;		//Der hintergrundbuffer
var initCalled	= false;	//wurde init aufgerufen?
var lastShwscrn	= 0;		//Wann wurde das letzte showscreen gemacht?
var showFPS		= -1; 		//wieviele fps?
var framePrev	= 0;		//welche ms gabs davor?
var frameDelay	= 0;		//wie lange soll gewarten werden?
var canvasWidth, canvasHeight; //Die breite/hhe
var	background	= null;		//Das Hintergrundbg (USEASBMP oder LOADBMP)
var loopFunc 	= null; //Aktueller LOOP
var loops 	 	= [];		//Der Loopstack
var usedSoundformat = 'ogg';	//Das benutzte Soundformat
var hibernate	= false;	//SOlls warten
var transCol	= null;		//Die durchsichtige farbe
var setBmp 		= null;		//die funktion die den hintergrund setzen soll
var currentMouse= 0;

var noSound 	= false;

//Mouse/Touch Input
var anyKeyPress = false;	//Wurde eine Taste gedrckt?
var anyMousePress = false;	//Wurde eine Mouse gedrckt?

var globalSpeedX, globalSpeedY; //fr HIBERNATE
var touches		= [];
var touchable	= 'createTouch' in document;


//------------------------------------------------------------
// Basic 2D stuff
//------------------------------------------------------------

var doCurrentFunction = function() {
	if (!waitload) {
		loopFunc(); //mainloop
	} else if (GLB_ON_LOADING) {
		GLB_ON_LOADING();
	}
}

function update2D() {
	try {
		if (!initCalled) {
			initCalled = true;
			
			main();
			
		} else {
			if (setBmp) {
				setBmp();
				setBmp = null;
			}
			
			updateTouches();
			
			if (hibernate) {
				if (ANYMOUSE() || ANYKEY() || globalSpeedX || globalSpeedY) {
					hibernate = false;
				}
			} else {
				canvasWidth = canvas.width; 
				canvasHeight = canvas.height;
				
				
				
				if (showFPS == -1) {
					doCurrentFunction();
				} else {
					var frameStart = GETTIMERALL();
					var frameDelta = frameStart - framePrev;
					
					if (frameDelta >= frameDelay) {
						doCurrentFunction();
							
						frameDelay = showFPS;
						if (frameDelta > frameDelay) {
							frameDelay = frameDelay - (frameDelta - frameDelay);
						}
						framePrev = frameStart;
					}
				}
				
			}
			
			anyKeyPress = false;
		}
		window.requestAnimFrame(update2D, frontbuffer.canvas);
	} catch(ex) {
		if (ex != "endprog") alert(formatError(ex));
	}
}

function domExceptionError(ex) {
	if (ex instanceof DOMException) {
		if (ex.code == 18) {
			throwError("Cannot access to ressource (maybe pixel data?). If you use Chrome, please run in localhost or use another browser!");
		} else {
			throwError("Unknown DOM error :(");
		}
	} else throw ex;
}

function PUSHLOOP(loop) {
	var f = eval("window['"+loop+"']");
	if (f == undefined) {
		loopFunc = function() {
			throwError("Call to undefined loop!");
		}
		throwError("Cannot push undefined loop: '"+loop+"'");
	}
	loopFunc = f;
	
	loops.push([f, loop]);
}

function POPLOOP() {
	loops.pop();
	
	if (loops.length == 0) {
		throwError("Cannot pop loop, because loop stack is empty!");
	}
	
	var f = loops[loops.length-1];
	loopFunc = f[0];
}

function GETCURRENTLOOP_Str() {
	var f = loops[loops.length-1];
	return f[1];
}

function RETURNTOLOOP(loop) {
	var f = eval("window."+loop);
	if (f == undefined) {
		throwError("Cannot return to undefined loop: '"+loop+"'");
	}
	while(GETCURRENTLOOP_Str() != loop) {
		POPLOOP();
	}
}

function X_MAKE2D() {
	//noch nichts tun, erst wenn 3D da ist
}

function SHOWSCREEN() {
	lastShwscrn = GETTIMERALL();
	if (initCalled) {
		USESCREEN(-2);
		CLEARSCREEN(clrColor);
		USESCREEN(-1);
		frontbuffer.context.drawImage(backbuffer.canvas,0, 0);
		CLEARSCREEN(clrColor);
		//nun noch falls vorhanden den bg zeichnen
		if (!!background) {
			backbuffer.context.drawImage(background, 0, 0);
		}
	}
}

/**
* @constructor
*/
function Touch() {
	this.lastx 	= 0;
	this.lasty 	= 0;
	this.speedx = 0;
	this.speedy = 0;
	
	this.x = 0;
	this.y = 0;
	
	this.left	= false;
	this.right 	= false;
	this.middle = false;
	this.wheel 	= 0;
}

function updateTouches(t, state) {
	anyMousePress = false;
	if (t) {
		switch(state) {
			case 'start':
				//falls neue tasten => draufhauen
				for (var i = touches.length; i < t.length-1; i++) {
					var tmp = t[i];
					touches[tmp.identifier].left = true; //letzten true setzen!
				}
				touches.length = t.length;
				break;
			case 'end':
				//Alle Tasten zurcksetzen
				for (var i = 0; i < t.length; i++) {
					var tmp = t[i];
					touches[tmp.identifier].left  = false;
				}
				break;
			case 'move':
				//Nun die gedrckten Tasten setzen
				for (var i = 0; i < t.length; i++) {
					var tmp = t[i];
					touches[tmp.identifier].left  = true
					touches[tmp.identifier].x = tmp.clientX - canvas.offsetLeft;
					touches[tmp.identifier].y = tmp.clientY - canvas.offsetTop;
				}
				break;
		}
	} else {
		globalSpeedX = 0;
		globalSpeedY = 0;
		
		for (var i = 0; i <touches.length;i++) {
			var touch = touches[i];
			touch.speedx = (touch.x - touch.lastx);
			touch.speedy = (touch.y - touch.lasty);
			
			globalSpeedX += touch.speedx;
			globalSpeedY += touch.speedy;
			
			touch.lastX = touch.x;
			touch.lastY = touch.y;
			
			if (touch.left || touch.right || touch.middle) {
				anyMousePress = true;
			}
		}
	}
}

function init2D(canvasName) {
	var myAudio = document.createElement('audio'); 
    var canPlayMp3 = false, canPlayOgg = false;
    if (myAudio.canPlayType) {
		canPlayMp3 = !!myAudio.canPlayType && "" != myAudio.canPlayType('audio/mpeg');
		if (canPlayMp3 == "maybe" || canPlayMp3 == "probably" || canPlayMp3 == true) canPlayMp3 = true; else canPlayMp3 = false;
		canPlayOgg = !!myAudio.canPlayType && "" != myAudio.canPlayType('audio/ogg; codecs="vorbis"');
		if (canPlayOgg == "maybe" || canPlayOgg == "probably" || canPlayOgg == true) canPlayOgg = true; else canPlayOgg = false;
	}
	if (!canPlayOgg && !canPlayMp3) {
		noSound = true; //throwError("Your browser is not able to play sound... please use a newer browser.");
		console.log("No sound playback possible!");
	}
	
	if (canPlayOgg) {
		usedSoundFormat = 'ogg';
	} else {
		usedSoundFormat = 'mp3';
	}
	
	frontbuffer = new Screen(document.getElementById(canvasName), -2);
	register(frontbuffer);
	
	var cnvs = document.createElement('canvas');
	cnvs.width = frontbuffer.canvas.width
	cnvs.height = frontbuffer.canvas.height
	backbuffer = new Screen(cnvs, -1);
	register(backbuffer);
	
	if (typeof GLB_ON_LOADING == 'undefined') GLB_ON_LOADING = null;
	
	USESCREEN(-2);
    if (!context) {
		throwError("Canvas unsupported, please use a newer browser.");
		END();
	}
	
	function finishEvent(e){
		if(e.stopPropagation){
			e.stopPropagation();
			e.preventDefault();
		} else {
			e.cancelBubble=true;
			e.returnValue=false;
		}
	}
	
	canvas.oncontextmenu = function() {
		return false;
	}
	
	touches.push(new Touch()); //Einen Touch gibts immer!
	
	//mouse listener
	if (!touchable) {
		canvas.onmousemove = function(ev) {
			if(!ev) ev = window.event();
			
			touches[0].x = ev.clientX - canvas.offsetLeft;
			touches[0].y = ev.clientY - canvas.offsetTop;
		}
		canvas.onmousedown=function( e ) {
			if(!e) e = window.event();
			
			switch( e.button ){
				case 0: touches[0].left 	= true; break;
				case 1: touches[0].middle 	= true; break;
				case 2: touches[0].right 	= true; break;
			}
			
			finishEvent(e);
		}
		
		canvas.onmouseup=function( e ) {
			if(!e) e = window.event();
			
			switch( e.button ){
				case 0: touches[0].left 	= false; break;
				case 1: touches[0].middle 	= false; break;
				case 2: touches[0].right 	= false; break;
			}
			finishEvent(e);
		}
		
		canvas.onmouseout=function( e ){
			if(!e) e = window.event();
			
			touches[0].left 	= false;
			touches[0].right	= false;
			touches[0].middle 	= false;
			finishEvent(e);
		}
		
		wheel = function(ev) {
			var delta = 0;
			if (!ev) ev = window.event;
			if (ev.wheelDelta){
				delta = ev.wheelDelta/120;
				if (window.opera) delta = -delta;
			} else if(ev.detail){
				delta = -ev.detail/3;
			}
			if(delta) touches[0].wheel = delta;
			if(ev.preventDefault) ev.preventDefault();
			ev.returnValue = false;
			
			finishEvent(ev);
		}
		
		if(window.addEventListener) window.addEventListener("DOMMouseScroll", wheel, false);
		window.onmousewheel = document.onmousewheel = wheel;
	} else {
		canvas.addEventListener('touchmove', function(event) {
			updateTouches(event.touches, 'move');
			
			finishEvent(event);
		}, false);
		
		
		canvas.addEventListener('touchstart', function(event) {
			//Beginn...
			updateTouches(event.touches, 'start');
			finishEvent(event);
		}, false);
		
		canvas.addEventListener('touchend', function(event) {
			//Ende...
			updateTouches(event.changedTouches, 'end');
			finishEvent(event);
		}, false);
	}
	//key listener
	document.onkeydown = function(ev) {
		if(!ev) ev = window.event();
		keyInput[ev.keyCode] = true;
		anyKeyPress = true;
	}
	document.onkeyup = function(ev) {
		if(!ev) ev = window.event();
		keyInput[ev.keyCode] = false;
	}
	
	USESCREEN(-1);
	CLEARSCREEN(RGB(0,0,0)); //black background color
	SHOWSCREEN();
	
	try {
		if (window['GLB_ON_LOOP']) {
			PUSHLOOP("GLB_ON_LOOP");
		} else {
			PUSHLOOP("GLB_MAIN_LOOP");
		}
	} catch(ex) {}
	
	SYSTEMPOINTER(0);
	
    update2D(); //call the render function
}

function deInit2D() {
	canvas = null;
	context = null;
    sprites = [];
    screens = [];
    waitload = 0;
    curScreen = null;
    clrColor = RGB(0, 0, 0);
    keyInput = [];
    fontbuffer = null;
    backbuffer = null;
	initCalled = false;
}

function register(obj) {
	if (obj instanceof Sprite) {
		sprites[obj.num] = obj;
		if (obj.num >= sprites.length) sprites.length = obj.num + 1;
	} else if (obj instanceof Screen) {
		screens[obj.num] = obj;
		if (obj.num>=screens.length) screens.length = obj.num + 1; //vllt +3
	} else if (obj instanceof Sound) {
		sounds[obj.num] = obj;
		if (obj.num >= sounds.length) sounds.length = obj.num + 1;
	} else if (obj instanceof SoundChannel) {
		soundChannels[obj.num] = obj;
		if (obj.num >= soundChannels.length) soundChannels.length = obj.num + 1;
	} else {
		throwError("Cannot register unknown object: "+obj.constructor);
	}
	
	return obj.num;
}

//------------------------------------------------------------
//Basic classes (Sprite, Screen, etc)
//------------------------------------------------------------

/**
* @constructor
*/
function Sprite(img, num) {
	this.img = img;
	this.num = num;
	this.data = null;
	this.loaded = false;
	
	this.frames = [];
}

function getSprite(num) {
	if (!!sprites[num]) {
		if (!sprites[num].loaded) throwError("Image not yet loaded '"+num+"'");
		return sprites[num];
	} else {
		throwError("Image not available '"+num+"'");
	}
}

/**
 * @constructor
 */
function Screen(buffer, num, sprid) {
	this.canvas = buffer;
	this.context = buffer.getContext('2d');
	this.realwidth = this.canvas.width;
	this.realheight = this.canvas.height;
	this.realx = this.canvas.offsetLeft;
	this.realy = this.canvas.offsetRight;
	this.num = num + 2;
	this.spr = sprid;
	
	if (this.context == null) throwError("Given buffer does not support '2d'");
}


//------------------------------------------------------------
//Misc
//------------------------------------------------------------



function FOCEFEEDBACK(joy, dur, x, y) {
	var f = navigator.vibrate || navigator.mozVibrate;
	if (f) f(dur);
}

function GETTIMER() {
	return GETTIMERALL() - lastShwscrn;
}

function ALPHAMODE(mode) {
	if (mode < 0) {
		context.globalCompositeOperation = 'lighter';
		mode = (1 - mode) - 1;
	} else if (mode > 0) {
		context.globalCompositeOperation = 'lighter';
	} else {
		context.globalCompositeOperation = 'source-over';
		mode = 1;
	}
	canvas.globalAlpha = mode;
}

function SETPIXEL(x, y, col) {
	DRAWRECT(x,y,1,1,col);
}

function LIMITFPS(fps) {
	showFPS = fps;
}

function RGB(r, g, b) {
	/*
	if (r == undefined) r = 0;
	if (g == undefined) g = 0;
	if (b == undefined) b = 0;*/
	r = r%256; g = g%256; b = b%256
	return r*0x10000 + g*0x100 + b;
}

function SETTRANSPARENCY(rgb) {
	//throwError("TODO: SETTRANS");
	transCol = rgb;
}

function SMOOTHSHADING(mode) {
	throwError("TODO: SMOOTHSHADING");
}

function SETSCREEN(width, height) {
	canvas.width = width;
	canvas.height = height;
}

function VIEWPORT(x, y, width, height) {
	if (x != 0 || y != 0 || width != canvas.width || height != canvas.height) {
		//clipping \o/
		context.beginPath();
		context.rect( x,y,width,height );
		context.clip();
		context.closePath();
	}
}

function ALLOWESCAPE(allow) {
	throwError("TODO: allowescape");
}

function AUTOPAUSE(mode) {
	throwError("TODO: autopause");
}

function HIBERNATE() {
	hibernate = true;
}

//------------------------------------------------------------
//get functions
//------------------------------------------------------------

function GETSCREENSIZE(width, height) {
	width[0] = canvas.width
	height[0] = canvas.height;
}

function GETSPRITESIZE(num, width, height) {
	width[0] = 0;
	height[0] = 0;
	
	if (sprites[num] && sprites[num].loaded) {
		width[0] = sprites[num].img.width;
		height[0] = sprites[num].img.height;
	}
}

function GETDESKTOPSIZE(width, height) {
	width[0] = window.innerWidth;
	height[0] = window.innerHeight;
}

function GETFONTSIZE(width, height) {
	var metrics = context.measureText("W");
	if (!metrics) throwError("Font metrics unsupported!");
	
	width[0] = metrics.width;
	height[0] = metrics.height ? metrics.height : 16;
}

function ISFULLSCREEN() {
	throwError("TODO: isfullscreen");
}

function GETPIXEL(x, y) {
	var index	= (x * 4) + (y * canvas.width * 4);
	throwError("TODO: getpixel");
	return RGB(index, index + 1, index + 2);
}

//------------------------------------------------------------
// Screens
//------------------------------------------------------------

function CREATESCREEN(scrid, sprid, width, height) {
	var buffer = document.createElement('canvas');
    buffer.width = width;
    buffer.height = height;
	
	register(new Screen(buffer, scrid, sprid));
	register(new Sprite(buffer, sprid));
	
}

function USESCREEN(id) {
	var oScreen = curScreen;
	if (oScreen && oScreen.spr) getSprite(oScreen.spr).data = null;
	curScreen = screens[id + 2];
	if (!curScreen) {
		curScreen = oScreen;
	} else {
		context = curScreen.context;
		canvas = curScreen.canvas;
	}
}

function BLENDSCREEN(file, duration) {
	throwError("TODO: blendscreen");
}

function CLEARSCREEN(col) {
	context.save();
	context.fillStyle = formatColor(col);
	context.fillRect(0,0,canvas.width, canvas.height);
	clrColor = col;
	context.restore();
}

function BLACKSCREEN() {
	CLEARSCREEN(RGB(0,0,0));
}

function USEASBMP() {
	background = backbuffer.canvas;
	var buffer = document.createElement('canvas');
    buffer.width = canvasWidth;
    buffer.height = canvasHeight;
	backbuffer = new Screen(buffer, -1);
	register(backbuffer);
	USESCREEN(-1);
}

function LOADBMP(path) {
	var image = new Image();
	//existiert das bild im filesystem?
	if (DOESFILEEXIST(path)) {
		//ja, also lade es direkt
		throwError("TODO: load image from virtual file system");
	} else {
		//nein, also lade es von der hdd
		image.onload = function () {
			background = image;
		}
		image.onerror = function() {
			//fehler
			throwError("BMP '"+path+"' not found!");
		}
		image.src = fileSystem.getCurrentDir() + path;
		
	}
	
}

//------------------------------------------------------------
//save functions
//------------------------------------------------------------
function SAVEBMP(file) {
	throwError("TODO: savebmp");
}

function SAVESPRITE(file, num) {
	throwError("TODO: savesprite");
}

//------------------------------------------------------------
//shape functions
//------------------------------------------------------------
function DRAWLINE(x1, y1, x2, y2, col) {
	context.save();
	context.strokeStyle	= formatColor(col);
	context.beginPath();
	context.moveTo(CAST2INT(x1), CAST2INT(y1));
	context.lineTo(CAST2INT(x2), CAST2INT(y2));
	context.stroke();
	context.restore();
}
function DRAWRECT(x,y,w,h,col) {
	context.save();
	context.fillStyle	= formatColor(col);
	context.fillRect(CAST2INT(x), CAST2INT(y), CAST2INT(w), CAST2INT(h));
	context.restore();
}

function formatColor(col) {
	col = col.toString(16);
	while(col.length<6) {
		col = "00"+col;
	}
	return '#'+col;
}
//------------------------------------------------------------
// poly functions
//------------------------------------------------------------

var inPoly = false;
var num, mode;
var polyStack = [];

function ENDPOLY() {
	if (!inPoly) throwError("ENDPOLY has to be in STARTPOLY - ENDPOLY ");
	if (polyStack.length > 0) {
		//schlieen!
		POLYNEWSTRIP();
	}
	
	inPoly = false;
}

var tris2 = [[0, 1, 2], [2, 3, 1]];
var tris1 = [[0, 1, 2], [2, 3, 0]];

function POLYNEWSTRIP() {
	if (!inPoly) throwError("POLYNEWSTRIP has to be in STARTPOLY - ENDPOLY ");
	
	if (num == -1) {
		//use pure html5!
		throwError("Todo! POLYNEWSTRIP without image");
	} else {
		//use the texture!
		//got code from: http://stackoverflow.com/questions/4774172/image-manipulation-and-texture-mapping-using-html5-canvas Thanks, you saved my life!!
		var tris
		if (mode == 2) {
			tris = tris2;
		} else if (mode == 1) {
			tris =  tris1;
		} else {
			throwError("Todo! POLYNEWSRTUP with image and other drawing modes")
		}
		
		var pts = polyStack;
		for (var t=0; t<tris.length; t++) {
			var pp = tris[t];
			var x0 = pts[pp[0]].x, x1 = pts[pp[1]].x, x2 = pts[pp[2]].x;
			var y0 = pts[pp[0]].y, y1 = pts[pp[1]].y, y2 = pts[pp[2]].y;
			var u0 = pts[pp[0]].u, u1 = pts[pp[1]].u, u2 = pts[pp[2]].u;
			var v0 = pts[pp[0]].v, v1 = pts[pp[1]].v, v2 = pts[pp[2]].v;

			// Set clipping area so that only pixels inside the triangle will
			// be affected by the image drawing operation
			context.save(); context.beginPath(); context.moveTo(x0, y0); context.lineTo(x1, y1);
			context.lineTo(x2, y2); context.closePath(); context.clip();

			// Compute matrix transform
			var delta = u0*v1 + v0*u2 + u1*v2 - v1*u2 - v0*u1 - u0*v2;
			var delta_a = x0*v1 + v0*x2 + x1*v2 - v1*x2 - v0*x1 - x0*v2;
			var delta_b = u0*x1 + x0*u2 + u1*x2 - x1*u2 - x0*u1 - u0*x2;
			var delta_c = u0*v1*x2 + v0*x1*u2 + x0*u1*v2 - x0*v1*u2
						  - v0*u1*x2 - u0*x1*v2;
			var delta_d = y0*v1 + v0*y2 + y1*v2 - v1*y2 - v0*y1 - y0*v2;
			var delta_e = u0*y1 + y0*u2 + u1*y2 - y1*u2 - y0*u1 - u0*y2;
			var delta_f = u0*v1*y2 + v0*y1*u2 + y0*u1*v2 - y0*v1*u2
						  - v0*u1*y2 - u0*y1*v2;

			// Draw the transformed image
			context.transform(delta_a/delta, delta_d/delta,
						  delta_b/delta, delta_e/delta,
						  delta_c/delta, delta_f/delta);
			context.drawImage(getSprite(num).img, 0, 0);
			context.restore();
		}
	}
	
	polyStack.length = 0; //anstatt = []
}

function POLYVECTOR(posx, posy, tx, ty, color) {
	if (!inPoly) throwError("POLYVECTOR has to be in STARTPOLY - ENDPODRAWANIMLY ");
	
	if (polyStack[polyStack.length]) {
		//existiert bereits!
		polyStack[polyStack.length].x = posx;
		polyStack[polyStack.length].y = posy;
		polyStack[polyStack.length].u = tx;
		polyStack[polyStack.length].v = ty;
		polyStack[polyStack.length].col = color;
		polyStack.length++;
	} else {
		//existiert noch nicht!
		polyStack.push({
			x: posx, y: posy, u: tx, v: ty, col: color
		});
	}
}

function STARTPOLY(n, m) {
	if (inPoly) throwError("STARTPOLY has not to be in STARTPOLY - ENDPOLY ");
	inPoly = true;
	polyStack.length = 0;
	num = n;
	mode = m;
}

//------------------------------------------------------------
//Sprite Rendering
//------------------------------------------------------------

function GENSPRITE() {
	for (var i = 0; i < sprites.length; i++) {
		if (!sprites[i]) return i;
	}
	return sprites.length;
}

function DRAWANIM(num, frame, x, y) {
	var spr = getSprite(num);
	frame = frame % spr.frames.length;
	if (frame < 0) throwError("Invalid frame '"+frame+"'");
	context.drawImage(spr.img, spr.frames[frame].posx, spr.frames[frame].posy, spr.frameWidth, spr.frameHeight, CAST2INT(x), CAST2INT(y), spr.frameWidth, spr.frameHeight);
}

function DRAWSPRITE(num, x, y) {
	var spr = getSprite(num);
	context.drawImage(spr.img, CAST2INT(x), CAST2INT(y));
}

function ROTOSPRITE(num, x, y, phi) {
	if ((phi%360) == 0) {
		DRAWSPRITE(num, x, y);
	} else {
		context.save();
		context.setRotation(phi * Math.PI / 180); //convert into RAD
		DRAWSPRITE(num, x, y);
		context.restore();
	}
}

function ZOOMSPRITE(num, x, y, sx, sy) {
	if (sx == 1 && sy == 1) {
		DRAWSPRITE(num, x, y);
	} else if (sx != 0 && sy != 0){
		context.save();
		context.scale(sx, sy);
		DRAWSPRITE(num, x, y);
		context.restore();
	}
}

function STRETCHSPRITE(num,  x, y, width, height) {
	var spr = getSprite(num);
	if (width != 0 && height != 0) {
		context.save();
		context.scale(spr.img.width/width, spr.img.height/height);
		DRAWSPRITE(num, x, y);
		//context.drawImage(spr.img, CAST2INT(x), CAST2INT(y), CAST2INT(width), CAST2INT(height));
		context.restore();
	}
}

function ROTOZOOMSPRITE(num, x, y,phi, scale) {
	context.save();
	context.scale(scale, scale);
	ROTOSPRITE(num, x, y, phi);
	context.restore();
}

function ROTOZOOMANIM(num, frame, x, y,phi, scale) {
	throwError("TODO: rotozoomanim");
}

function ROTOANIM(num, frame, x, y, phi) {
	throwError("TODO: rotoanim");
}

function ZOOMANIM(num,frame, x, y, sx, sy) {
	throwError("TODO: zoomanim");
}

function STRETCHANIM(num,frame,  x, y, width, height) {
	throwError("TODO: stretchanim");
}

function GRABSPRITE(num, x, y, width, height) {
	if (width < 1 || height < 1) throwError("Invalid width/height!");
	try {
		var data = context.getImageData(x, y, width, height);
		
		var canvas = document.createElement('canvas');
		canvas.width = width;
		canvas.height = height;
		var ctxt = canvas.getContext("2d");
		ctxt.putImageData(data, 0, 0);
		
		var spr = new Sprite(canvas, num);
		spr.loaded = true;
		register(spr);
	}  catch(ex) {
		//kann keine imagedata holen
		domExceptionError(ex);
	}
}

//------------------------------------------------------------
//text
//------------------------------------------------------------

function PRINT(text, x, y, kerning) {
	context.save();
	context.font = "12pt Consolas";
	context.fillStyle	= '#ffffff';
	context.fillText(text, CAST2INT(x), CAST2INT(y)+12);
	context.restore();
}

function SETFONT(num) {
	throwError("TODO: setfont");
}

//------------------------------------------------------------
//input
//------------------------------------------------------------

function MOUSEAXIS(info) {
	if (currentMouse >= 0 && currentMouse < touches.length) {} else {
		return;
	}
	var t = touches[currentMouse];
	switch(info) {
		case 0:
			return t.speedx;
		case 1:
			return t.speedy;
		case 2:
			return t.wheel;
		case 3:
			return t.left ? 1 : 0;
		case 4:
			return t.right ? 1 : 0;
		case 5:
			return t.middle ? 1 : 0;
	}
}

function SETACTIVEMOUSE(mouse) {
	currentMouse = mouse;
	if (mouse < 0 || mouse >= touches.length) throwError("Invalid mouse index '"+mouse+"' max: '"+touches.length+"'");
}

function GETMOUSECOUNT() {
	return touches.length;
}

function MOUSESTATE(x, y, ml, mr) {
	if (currentMouse >= 0 && currentMouse < touches.length) {} else {
		return;
	}
	var t = touches[currentMouse];
	x[0] 	= t.x
	y[0] 	= t.y;
	ml[0]	= t.left ? 1 : 0;
	mr[0]	= t.right ? 1 : 0;
}

function SYSTEMPOINTER(show) {
	if (show) {
		canvas.style.cursor = '';
	} else {
		canvas.style.cursor = 'none';
	}
}

function KEY(key) {
	key = glb2jsKeyCode(key);
	return keyInput[key] ? 1 : 0;
}

function glb2jsKeyCode(key) {
	switch(key) {
		case 14:
			return 8;
		case 15:
			return 9;
		case 28:
			return 13;
		case 42:
			return 16;
		case 29:
		case 157:
			return 17;
		case 56:
		case 29: //ALT GR
		case 184: //ALT GR
			return 18;
		case 197:
			return 19;
		case 58:
			return 20;
		case 1:
			return 27;
		case 201:
			return 33;
		case 57:
			return 32;
		case 209:
			return 34;
		case 207:
			return 35;
		case 178:
			return 36;
		case 203:
			return 37;
		case 200:
			return 38;
		case 205:
			return 39;
		case 208:
			return 40;
		case 183:
			return 44;
		case 210:
			return 45;
		case 211:
			return 46;
		case 11:
			return 48;
		case 2:
			return 49;
		case 3:
			return 50;
		case 4:
			return 51;
		case 5:
			return 52;
		case 6:
			return 53;
		case 7:
			return 54;
		case 8:
			return 55;
		case 9:
			return 56;
		case 10:
			return 57;
		case 30:
			return 65;
		case 48:
			return 66;
		case 46:
			return 67;
		case 32:
			return 68;
		case 18:
			return 69;
		case 33:
			return 70;
		case 34:
			return 71;
		case 35:
			return 72;
		case 23:
			return 73;
		case 36:
			return 74;
		case 37:
			return 75;
		case 38:
			return 76;
		case 50:
			return 77;
		case 49:
			return 78;
		case 24:
			return 79;
		case 25:
			return 80;
		case 16:
			return 81;
		case 19:
			return 82;
		case 31:
			return 83;
		case 20:
			return 84;
		case 22:
			return 85;
		case 47:
			return 86;
		case 17:
			return 87;
		case 45:
			return 88;
		case 44:
			return 89;
		case 21:
			return 90;
		case 219:
			return 91;
		case 220:
			return 92;
		//case KEY_SELECT = 93:
		//	return 93;
		case 82:
			return 96;
		case 79:
			return 97;
		case 80:
			return 98;
		case 81:
			return 99;
		case 75:
			return 100;
		case 76:
			return 101;
		case 77:
			return 102;
		case 71:
			return 103;
		case 72:
			return 104;
		case 73:
			return 105;
		case 55:
			return 106;
		case 78:
			return 107;
		case 74:
			return 109;
		case 83:
			return 110;
		case 181:
			return 111;
		case 59:
			return 112;
		case 60:
			return 113;
		case 61:
			return 114;
		case 62:
			return 115;
		case 63:
			return 116;
		case 64:
			return 117;
		case 65:
			return 118;
		case 66:
			return 119;
		case 67:
			return 120;
		case 68:
			return 121;
		case 87:
			return 122;
		case 88:
			return 123;
		case 69:
			return 144;
		case KEY_SCROLLLOCK= 145:
			return 70;
	}
}

function INKEY_Str() {
	return "";
}

function ANYKEY() {
	return anyKeyPress ? 1 : 0;
}

function ANYMOUSE() {
	return anyMousePress ? 1 : 0;
}

//------------------------------------------------------------
//collision
//------------------------------------------------------------

function SPRCOLL(spr1, x1, y1, spr2, x2, y2) {
	//throwError("TODO: sprcoll");
	var s1, s2;
	s1 = getSprite(spr1);
	s2 = getSprite(spr2);
	
	
	if (!s1.data || !s2.data) {
		var getMyData = function(s) {
			//oha get the data!
			try {
				var canvas = document.createElement('canvas');
				canvas.width = s.img.width;
				canvas.height = s.img.height;
				var context = canvas.getContext("2d");
				
				context.drawImage(s.img, 0, 0);
				s.data = context.getImageData(0, 0, canvas.width, canvas.height);
			} catch (ex) {
				domExceptionError(ex);
			}
		}
		
		if (s1.data == null) {
			getMyData(s1);
		}
		if (s2.data == null) {
			getMyData(s2);
		}
	}
	
	return isPixelCollision(s1.data, x1, y1, s2.data, x2, y2) ? 1 : 0;
}

function ANIMCOLL(ani1, tile, x1, y1, ani2, time2, x2, y2) {
	throwError("TODO: animcoll");
}

/**
 * @author Joseph Lenton - PlayMyCode.com
 *
 * @param first An ImageData object from the first image we are colliding with.
 * @param x The x location of 'first'.
 * @param y The y location of 'first'.
 * @param other An ImageData object from the second image involved in the collision check.
 * @param x2 The x location of 'other'.
 * @param y2 The y location of 'other'.
 * @param isCentred True if the locations refer to the centre of 'first' and 'other', false to specify the top left corner.
 */
function isPixelCollision( first, x, y, other, x2, y2 ) {
	var isCentred = false;
	
    // we need to avoid using floats, as were doing array lookups
    x  = Math.round( x );
    y  = Math.round( y );
    x2 = Math.round( x2 );
    y2 = Math.round( y2 );

    var w  = first.width,
        h  = first.height,
        w2 = other.width,
        h2 = other.height ;

    // deal with the image being centred
    if ( isCentred ) {
        // fast rounding, but positive only
        x  -= ( w/2 + 0.5) << 0
        y  -= ( h/2 + 0.5) << 0
        x2 -= (w2/2 + 0.5) << 0
        y2 -= (h2/2 + 0.5) << 0
    }

    // find the top left and bottom right corners of overlapping area
    var xMin = Math.max( x, x2 ),
        yMin = Math.max( y, y2 ),
        xMax = Math.min( x+w, x2+w2 ),
        yMax = Math.min( y+h, y2+h2 );

    // Sanity collision check, we ensure that the top-left corner is both
    // above and to the left of the bottom-right corner.
    if ( xMin >= xMax || yMin >= yMax ) {
        return false;
    }

    var xDiff = xMax - xMin,
        yDiff = yMax - yMin;

    // get the pixels out from the images
    var pixels  = first.data,
        pixels2 = other.data;

    // if the area is really small,
    // then just perform a normal image collision check
    if ( xDiff < 4 && yDiff < 4 ) {
        for ( var pixelX = xMin; pixelX < xMax; pixelX++ ) {
            for ( var pixelY = yMin; pixelY < yMax; pixelY++ ) {
                if (
                        ( pixels [ ((pixelX-x ) + (pixelY-y )*w )*4 + 3 ] !== 0 ) &&
                        ( pixels2[ ((pixelX-x2) + (pixelY-y2)*w2)*4 + 3 ] !== 0 )
                ) {
                    return true;
                }
            }
        }
    } else {
        var incX = xDiff / 3.0,
            incY = yDiff / 3.0;
        incX = (~~incX === incX) ? incX : (incX+1 | 0);
        incY = (~~incY === incY) ? incY : (incY+1 | 0);

        for ( var offsetY = 0; offsetY < incY; offsetY++ ) {
            for ( var offsetX = 0; offsetX < incX; offsetX++ ) {
                for ( var pixelY = yMin+offsetY; pixelY < yMax; pixelY += incY ) {
                    for ( var pixelX = xMin+offsetX; pixelX < xMax; pixelX += incX ) {
                        if (
                                ( pixels [ ((pixelX-x ) + (pixelY-y )*w )*4 + 3 ] !== 0 ) &&
                                ( pixels2[ ((pixelX-x2) + (pixelY-y2)*w2)*4 + 3 ] !== 0 )
                        ) {
                            return true;
                        }
                    }
                }
            }
        }
    }

    return false;
}

function BOXCOLL(x1,y1,breite1,hoehe1,x2,y2,breite2,hoehe2) {
    if (x1<=(x2+breite2) && y1<=y2+hoehe2 && (x1+breite1) >=x2 && (y1+hoehe1)>= y2) return 1; else return 0; 
}

//------------------------------------------------------------
//loading
//------------------------------------------------------------

function LOADSPRITE(path, num, frmw, frmh) {
	var image = new Image();
	var spr = new Sprite(image, num);
	//existiert das bild im filesystem?
	if (DOESFILEEXIST(path)) {
		//ja, also lade es direkt
		throwError("TODO: load image from virtual file system");
	} else {
		image.onerror = function() {
			if (sprites[num]) {
				waitload--;
				sprites[num] = null;
				if (path != "" && path != "0") {
					throwError("Image '"+num+"' '"+path+"' not found!");
				}
			} //else => es wurde schon gelscht
		};
		//nein, also lade es von der hdd
		image.onload = function () { 
			if (!spr.loaded) {
				waitload--;
				spr.loaded = true;
				
				if (frmw && frmh) {
					//animation!
					spr.frameWidth = MAX(MIN(frmw, image.width), 0);
					spr.frameHeight = MAX(MIN(frmh, image.height), 0);
					
					//nun die frames in das sprite
					spr.frames = [];
					var i = 0;
					for (var y = 0; y < image.height; y+= spr.frameHeight) {
						for (var x = 0; x < image.width; x += spr.frameWidth) {
							spr.frames.push({posx: x, posy: y});
						}
					}
				} else {
					spr.frameWidth = -1;
					spr.frameHeight = -1;
				}
				
				//transparency rauslschen
				try {
					if (!!transCol) {
						//Weird hack...
						var width = image.width, height = image.height;
						var buf = document.createElement('canvas');
						buf.width = width;
						buf.height = height;
						
						var scrn = new Screen(buf, -42);
						scrn.context.drawImage(image, 0, 0);
						
						//data modifizieren
						var imageData = scrn.context.getImageData(0, 0, width, height);
						
						for (var y = 0; y < height; y++) {
							inpos = y * width * 4; // *4 for 4 ints per pixel
							outpos = inpos;
							for (var x = 0; x < width; x++) {
								var r = imageData.data[inpos++];
								var g = imageData.data[inpos++];
								var b = imageData.data[inpos++];
								var a = imageData.data[inpos++];
								
								var rgb = RGB(r, g, b);
								if (rgb == transCol) {
									//Transparent machen!
									a = 0;
								}
								
								imageData.data[outpos++] = r;
								imageData.data[outpos++] = g;
								imageData.data[outpos++] = b;
								imageData.data[outpos++] = a;
							}
						}
						
						scrn.context.putImageData(imageData, 0, 0);
						spr.img = buf; 
					}
				}  catch(ex) {
					//kann keine imagedata holen
					domExceptionError(ex);
				}
				//on sprite loaded rufen
				
			}
		}
		image.src = fileSystem.getCurrentDir() + path;
	}
	
	
	register(spr);
	
	waitload++;
}

function LOADANIM(path,num, width, height) {
	//throwError("TODO: LOADANIM");
	LOADSPRITE(path, num, width, height);
}
function LOADFONT(font, num) {
	//throwError("TODO: loadfont");
}

function MEM2SPRITE(pixels, num, width, height) {
	throwError("TODO: mem2sprite");
}

function SPRITE2MEM(pixels, num) {
	throwError("TODO: sprite2mem");
}

function LOADSPRITEMEM(file, w, h, pixels) {
	throwError("TODO: loadspritemem");
}

//------------------------------------------------------------
//movie
//------------------------------------------------------------

function LOOPMOVIE(movie) {
	throwError("TODO: loopmovie");
}

function PLAYMOVIE(movie) {
	throwError("TODO:playmovie");
}


//------------------------------------------------------------
//sound
//------------------------------------------------------------
var sounds = [];
var soundChannels = [];

function genSoundChannel() {
	for (var i = 1; i < soundChannels.length; i++) {
		if (!soundChannels[i]) return i;
	}
	return soundChannels.length+1;
}

/**
* @constructor
*/
function Sound(file, num, buffer) {
	this.num = num;
	this.file = file;
	this.loaded = false;
	this.buffers = [];
	this.buffers.length = buffer;
	
	this.sound = new Audio(file);
	this.sound.load();
	// Add the audio element to the DOM, because otherwise a certain 
	// retarded Browser from Redmond will refuse to properly clone it
	
	//document.body.appendChild( this.sound );
	
	waitload++;
	
	var snd = this;
	this.sound.addEventListener("onerror", function() {
		waitload--;
		if (file != "" && file != "0") {
			throwError("Sound '"+num+"' '"+file+"' not found!");
		}
	}, false);
	this.sound.addEventListener("canplaythrough", function() {
		if (!snd.loaded) {
			waitload--;
			
			//buffer erstellen
			for (var i = 0; i < snd.buffers.length; i++) { 
				snd.buffers[i] = new SoundChannel(this);
			}
		}
		snd.loaded = true;
	}, false);
}

/**
* @constructor
*/
function SoundChannel(sound) {
	this.sound = sound.cloneNode(true);
	this.sound.load();
	
	this.num = genSoundChannel();
	this.loaded = false;
	this.playing = false;
	this.playTime = 0;
	
	this.play = function() {
		if (this.playing) this.stop();
		
		this.sound.currentTime = 0;
		this.playing = true;
		this.playTime = GETTIMERALL();
		this.sound.play();
	}
	
	this.stop = function() {
		this.sound.pause();
		this.sound.currentTime = 0;
		this.playing = false;
		this.playTime = 0;
	}
	
	var sndchn = this;
	this.sound.addEventListener( 'canplaythrough', function() {
		if (!sndchn.loaded) {
			waitload--;
		}
		sndchn.loaded = true;
	}, false );
	this.sound.addEventListener("ended", function() {
		sndchn.stop();
	}, false);
	
	waitload++;
}

function LOADSOUND(file, num, buffer) {
	if (noSound) return;
	
	var fileName = REPLACE_Str(MID_Str(file, MAX(0, file.lastIndexOf('/')), -1),"/","");
	file = REPLACE_Str(file, fileName, ".html5_convertedsounds_"+fileName)+"/";
	
	if (usedSoundFormat == 'ogg') {
		file +="sound.ogg";
	} else { //mp3
		file +="sound.mp3";
	}
	file = "./"+file;
	
	
	var sound = new Sound(file, num, buffer);
	
	register(sound);
	
	return sound;
}

function PLAYSOUND(num, pan, volume) {
	if (noSound) return;
	
	var s = sounds[num];
	if (!s) {
		return 0;
	} else {
		//suche den mit dem niedrigsten playTime
		var curChn = null, lowestPlaytime = GETTIMERALL() + 1;
		for (var i = 0; i < s.buffers.length && lowestPlaytime != 0; i++) {
			if (s.buffers[i].playTime < lowestPlaytime) {
				lowestPlaytime = s.buffers[i].playTime;
				curChn = s.buffers[i];
			}
		}
		if (!!curChn) {
			curChn.play();
		} else {
			throwError("No channel available...");
		}
		return curChn.num;
	}
}

function HUSH() {
	if (noSound) return;
	
	for (var i = 0; i < soundChannels.length; i++) {
		if (!!soundChannels[i] && soundChannels[i].playing) soundChannels[i].stop();
	}
}

function SOUNDPLAYING(chn) {
	if (noSound) return false;
	
	return (!!soundChannels[chn] && soundChannels[chn].playing ) ? 0 : 1;
}
function PLAYMUSIC(file, loop) {
	if (noSound) return;
	return;
	
	var s = LOADSOUND(file, 0, 1);
	s.loop = loop;
	s.music = true;
}

function STOPMUSIC() {
	if (noSound) return;
	
	if (SOUNDPLAYING(0)) {
		soundChannels[0].stop();
	}
}

function ISMUSICPLAYING() {
	if (noSound) return false;
	
	return SOUNDPLAYING(0);
}




if (initFS) initFS()
